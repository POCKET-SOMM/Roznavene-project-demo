(this["webpackJsonppocket-somm"]=this["webpackJsonppocket-somm"]||[]).push([[0],{130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(19),r=n.n(s),o=(n(83),n(12)),c=n(10),l=(n(84),n(139)),d=n(33),h=n(136),p=n(144),u=n(18),b=(n(85),n(143)),j=n(141),x=n(56),g=n(133),f=n(134),O=(n(88),n(2)),m="#80183b",y="#ededed",v={bodied:"Bodied",tannic:"Tannic",sweet:"Sweet",acid:"Crisp"},w={bodied:"Light",tannic:"Smooth",sweet:"Dry",acid:"Soft"},S={Andorra:"AD","United Arab Emirates":"AE",Afghanistan:"AF","Antigua & Barbuda":"AG",Anguilla:"AI",Albania:"AL",Armenia:"AM",Angola:"AO",Argentina:"AR","American Samoa":"AS",Austria:"AT",Australia:"AU",Aruba:"AW","\xc5land Islands":"AX",Azerbaijan:"AZ","Bosnia & Herzegovina":"BA",Barbados:"BB",Bangladesh:"BD",Belgium:"BE","Burkina Faso":"BF",Bulgaria:"BG",Bahrain:"BH",Burundi:"BI",Benin:"BJ","St. Barth\xe9lemy":"BL",Bermuda:"BM",Brunei:"BN",Bolivia:"BO",Brazil:"BR",Bahamas:"BS",Bhutan:"BT","Bouvet Island":"BV",Botswana:"BW",Belarus:"BY",Belize:"BZ",Canada:"CA","Cocos (Keeling) Islands":"CC","Congo - Kinshasa":"CD","Central African Republic":"CF","Congo - Brazzaville":"CG",Switzerland:"CH","C\xf4te d\u2019Ivoire":"CI","Cook Islands":"CK",Chile:"CL",Cameroon:"CM",China:"CN",Colombia:"CO","Costa Rica":"CR",Cuba:"CU","Cape Verde":"CV","Cura\xe7ao":"CW","Christmas Island":"CX",Cyprus:"CY","Czech Republic":"CZ",Germany:"DE",Djibouti:"DJ",Denmark:"DK",Dominica:"DM","Dominican Republic":"DO",Algeria:"DZ",Ecuador:"EC",Estonia:"EE",Egypt:"EG",Eritrea:"ER",Spain:"ES",Ethiopia:"ET","European Union":"EU",Finland:"FI",Fiji:"FJ","Falkland Islands":"FK",Micronesia:"FM","Faroe Islands":"FO",France:"FR",Gabon:"GA","United Kingdom":"GB",England:"GB-ENG","Northern Ireland":"IR",Scotland:"CT",Wales:"LS",Shetland:"ET",Grenada:"GD",Georgia:"GE","French Guiana":"GF",Guernsey:"GG",Ghana:"GH",Gibraltar:"GI",Greenland:"GL",Gambia:"GM",Guinea:"GN",Guadeloupe:"GP","Equatorial Guinea":"GQ",Greece:"GR","So. Georgia & So. Sandwich Isl.":"GS",Guatemala:"GT",Guam:"GU","Guinea-Bissau":"GW",Guyana:"GY","Hong Kong (China)":"HK","Heard & McDonald Islands":"HM",Honduras:"HN",Croatia:"HR",Haiti:"HT",Hungary:"HU",Indonesia:"ID",Ireland:"IE",Israel:"IL","Isle of Man":"IM",India:"IN","British Indian Ocean Territory":"IO",Iraq:"IQ",Iran:"IR",Iceland:"IS",Italy:"IT",Jersey:"JE",Jamaica:"JM",Jordan:"JO",Japan:"JP",Kenya:"KE",Kyrgyzstan:"KG",Cambodia:"KH",Kiribati:"KI",Comoros:"KM","St. Kitts & Nevis":"KN","North Korea":"KP","South Korea":"KR",Kuwait:"KW","Cayman Islands":"KY",Kazakhstan:"KZ",Laos:"LA",Lebanon:"LB","St. Lucia":"LC",Pride:"BT",Liechtenstein:"LI","Sri Lanka":"LK",Liberia:"LR",Lesotho:"LS",Lithuania:"LT",Luxembourg:"LU",Latvia:"LV",Libya:"LY",Morocco:"MA",Monaco:"MC",Moldova:"MD",Montenegro:"ME","St. Martin":"MF",Madagascar:"MG","Marshall Islands":"MH",Macedonia:"MK",Mali:"ML","Myanmar (Burma)":"MM",Mongolia:"MN","Macau (China)":"MO","Northern Mariana Islands":"MP",Martinique:"MQ",Mauritania:"MR",Montserrat:"MS",Malta:"MT",Mauritius:"MU",Maldives:"MV",Malawi:"MW",Mexico:"MX",Malaysia:"MY",Mozambique:"MZ",Namibia:"NA","New Caledonia":"NC",Niger:"NE","Norfolk Island":"NF",Nigeria:"NG",Nicaragua:"NI",Netherlands:"NL",Norway:"NO",Nepal:"NP",Nauru:"NR",Niue:"NU","New Zealand":"NZ",Oman:"OM",Panama:"PA",Peru:"PE","French Polynesia":"PF","Papua New Guinea":"PG",Philippines:"PH",Pakistan:"PK",Poland:"PL","St. Pierre & Miquelon":"PM","Pitcairn Islands":"PN","Puerto Rico":"PR","Palestinian Territories":"PS",Portugal:"PT",Palau:"PW",Paraguay:"PY",Qatar:"QA","R\xe9union":"RE",Romania:"RO",Serbia:"RS",Russia:"RU",Rwanda:"RW","Saudi Arabia":"SA","Solomon Islands":"SB",Seychelles:"SC",Sudan:"SD",Sweden:"SE",Singapore:"SG","St. Helena":"SH",Slovenia:"SI","Svalbard & Jan Mayen":"SJ",Slovakia:"SK","Sierra Leone":"SL","San Marino":"SM",Senegal:"SN",Somalia:"SO",Suriname:"SR","South Sudan":"SS","S\xe3o Tom\xe9 & Pr\xedncipe":"ST","El Salvador":"SV","Sint Maarten":"SX",Syria:"SY",Swaziland:"SZ","Turks & Caicos Islands":"TC",Chad:"TD","French Southern Territories":"TF",Togo:"TG",Thailand:"TH",Tajikistan:"TJ",Tokelau:"TK","Timor-Leste":"TL",Turkmenistan:"TM",Tunisia:"TN",Tonga:"TO",Turkey:"TR","Trinidad & Tobago":"TT",Tuvalu:"TV",Taiwan:"TW",Tanzania:"TZ",Ukraine:"UA",Uganda:"UG","U.S. Outlying Islands":"UM","United States":"US",California:"CA",Uruguay:"UY",Uzbekistan:"UZ","Vatican City":"VA","St. Vincent & Grenadines":"VC",Venezuela:"VE","British Virgin Islands":"VG","U.S. Virgin Islands":"VI",Vietnam:"VN",Vanuatu:"VU","Wallis & Futuna":"WF",Samoa:"WS",Kosovo:"XK",Yemen:"YE",Mayotte:"YT","South Africa":"ZA",Zambia:"ZM",Zimbabwe:"ZW"};var C=function(e){var t=e.split("/")[5],n=e.split("/")[6];return"https://images.alko.fi/images/cs_srgb,f_auto,t_products/cdn/".concat(t,"/").concat(n,".jpg")},k=function(e){var t=A(e.region),n=t.indexOf(e.country);return n>-1&&t.splice(n,1),Object(O.jsxs)("span",{style:{fontSize:"12px"},children:[Object(O.jsx)(x.a,{countryCode:S[e.country].toLowerCase(),height:"15",style:{marginRight:"5px"}}),t.join(", ")," ",e.year?e.year:""]})},M=function(e){return Object.keys(v).map((function(t){return e[t]>=3?"".concat(v[t]):0==e[t]?"".concat(w[t]):""})).filter((function(e){return e})).join(" \u2022 ")},A=function(e){return e.match(RegExp(/(?:\'([^,]+)\'|"([^,]+)")/g)).map((function(e){return e.slice(1,-1)}))};var I=function(e){var t,n,a,s,r,o,l=Object(i.useState)(!1),h=Object(c.a)(l,2),p=h[0],x=h[1],S=Object(i.useState)(!1),I=Object(c.a)(S,2),T=I[0],B=I[1];return Object(O.jsxs)(b.a,{className:"clickable wineplate",onMouseEnter:function(e){x(!0)},onMouseLeave:function(e){x(!1)},border:p?"lightgray":"light",style:{backgroundColor:"#f7f7f7",borderColor:p?m:y,width:"95%",margin:"0px !important"},children:[Object(O.jsx)("div",{style:{borderRadius:"0px 3px 0px 5px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:T?m:y,color:T?"white":"black",width:"80px",height:"30px",position:"absolute",right:"0px",top:"0px",fontSize:"15px"},children:Object(O.jsx)("div",{children:Object(O.jsxs)("span",{style:{display:"block"},children:["\u20ac",e.price.toFixed(2)]})})}),Object(O.jsxs)(j.a,{children:[Object(O.jsx)(j.a.Toggle,{style:{padding:"10px"},as:b.a.Body,eventKey:e["PRODUCT NUMBER"],onClick:function(e){B(!T)},children:Object(O.jsxs)("div",{id:"wine-basics",style:{height:"80px",marginBottom:"10px"},children:[T?Object(O.jsx)(g.a,{color:m,style:{position:"absolute",top:"55px",right:"10px"}}):Object(O.jsx)(f.a,{color:m,style:{position:"absolute",top:"55px",right:"10px"}}),Object(O.jsx)("img",{className:"nodrag",style:{marginRight:"10px",float:"left",transform:p?"scale(1.1)":"",transition:"transform 0.3s",display:"inline-block"},src:C(e.link),height:"70px"}),Object(O.jsxs)("div",{style:{float:"left",position:"relative",width:"calc(100% - 146.66px)",display:"inline-block",height:"100%"},children:[Object(O.jsx)("span",{style:{display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"14px",textAlign:"start"},children:Object(O.jsx)("b",{className:"winelink",onClick:function(t){window.open(e.link,"_blank")},children:(r=e.name.replaceAll("-"," "),o=100,r.length>o?r.substr(0,o-1)+"...":r)})}),Object(O.jsxs)("div",{style:{color:"gray",left:"0px"},children:[Object(O.jsx)("span",{style:(t={display:"block",textAlign:"start",fontSize:"13px",width:"calc(100%)",whiteSpace:T?"":"nowrap",overflow:T?"":"hidden"},Object(u.a)(t,"display","block"),Object(u.a)(t,"textOverflow","ellipsis"),t),children:k(e)}),Object(O.jsx)("span",{style:(n={display:"block",textAlign:"start",fontSize:"13px",width:"calc(100%)",whiteSpace:T?"":"nowrap",overflow:T?"":"hidden"},Object(u.a)(n,"display","block"),Object(u.a)(n,"textOverflow","ellipsis"),n),children:(s="desert"==e.type?"Dessert":e.type,s.charAt(0).toUpperCase()+s.slice(1))}),Object(O.jsx)(d.a,{in:!T,children:Object(O.jsx)("span",{style:(a={display:"block",textAlign:"start",fontSize:"13px",width:"calc(100%)",whiteSpace:T?"":"nowrap",overflow:T?"":"hidden"},Object(u.a)(a,"display","block"),Object(u.a)(a,"textOverflow","ellipsis"),a),children:M(e)})})]})]})]})}),Object(O.jsx)(j.a.Collapse,{eventKey:e["PRODUCT NUMBER"],as:b.a.Body,children:Object(O.jsx)(d.a,{in:T,children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{id:"wine-variety",style:{display:e.variety.length<3?"none":"flex",width:"100%",backgroundColor:"#ededed",padding:"10px",minHeight:"50px",justifyContent:"stretch",alignItems:"center"},children:[Object(O.jsx)("div",{style:{height:"100%",width:"20%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(O.jsx)("img",{style:{marginLeft:"auto",marginRight:"auto",display:"block",marginTop:"auto",marginBottom:"auto"},src:"/Roznavene-project-demo/icons/grapes.png",width:"22"})}),Object(O.jsx)("div",{style:{height:"100%",width:"80%"},children:e.variety.length>3?A(e.variety).map((function(t){return Object(O.jsx)("div",{style:{backgroundColor:"white",borderStyle:"solid",borderWidth:"1px",borderColor:"#d4d4d4",borderRadius:"1px",padding:"2px",paddingLeft:"5px",paddingRight:"5px",margin:"3px",height:"25px",display:"inline-block",fontSize:"13px",float:"left"},children:t},"".concat(e["PRODUCT NUMBER"],"_").concat(t,"_variety"))})):null})]}),Object(O.jsx)("div",{id:"wine-quals",style:{width:"70%",float:"left",padding:"15px"},children:Object.keys(v).map((function(t){return Object(O.jsxs)("div",{style:{width:"100%",height:"35px"},children:[Object(O.jsx)("div",{style:{height:"35px",width:"30%",float:"left",textAlign:"center",verticalAlign:"middle",lineHeight:"30px"},children:Object(O.jsx)("span",{style:{fontSize:"11px",padding:"4px",color:e[t]>1?"gray":""},children:e[t]<=1?Object(O.jsx)("b",{children:w[t].toUpperCase()}):w[t].toUpperCase()})}),Object(O.jsxs)("div",{style:{height:"35px",width:"40%",float:"left",position:"relative",display:"flex"},children:[Object(O.jsx)("div",{style:{alignSelf:"center",width:"100%",height:"3px",position:"absolute",backgroundColor:"#eaeaea",borderRadius:"2px"}}),Object(O.jsx)("div",{style:{alignSelf:"center",width:"7px",height:"7px",position:"absolute",marginLeft:"calc(".concat(25*e[t],"% - 2px)"),borderRadius:"25px",zIndex:0,backgroundColor:m}})]}),Object(O.jsx)("div",{style:{height:"35px",width:"30%",float:"left",textAlign:"center",verticalAlign:"middle",lineHeight:"30px"},children:Object(O.jsx)("span",{style:{fontSize:"11px",padding:"4px",color:e[t]<3?"gray":""},children:e[t]>=3?Object(O.jsx)("b",{children:v[t].toUpperCase()}):v[t].toUpperCase()})})]},"".concat(t,"_bar"))}))}),Object(O.jsx)("div",{id:"wine-alcohol",style:{display:"flex",alignItems:"center",justifyContent:"space-around",width:"30%",float:"left",marginBottom:"15px",marginTop:"15px",height:"".concat(140,"px")},children:Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{fontSize:"13px",textAlign:"center",padding:"4px"},children:"ALCOHOL"}),Object(O.jsx)("div",{style:{display:"block",margin:"auto"},children:Object(O.jsxs)("span",{style:{fontSize:"14px"},children:[e.ALCOHOL,"%"]})})]})})]})})})]})]},e["PRODUCT NUMBER"])},T=n(34),B=n.n(T),R=n(135),N=n(39),L=n(76),G=n(40),P=n(5),z=["children"],E=["onMouseMove","onMouseOver"],U=function(e){var t=e.children,n=Object(G.a)(e,z),i=n.innerProps,a=(i.onMouseMove,i.onMouseOver,Object(G.a)(i,E)),s=Object(o.a)(Object(o.a)({},n),{},{innerProps:a});return Object(O.jsx)(P.p.Option,Object(o.a)(Object(o.a)({},s),{},{className:"custom-option",children:t}))},H=n(47),K=n(48),F=n(54),D=n(51),V=n(75),W=function(e){Object(F.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(H.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).renderItem=function(t){var n=e.props.children;return Array.isArray(n)?Object(O.jsx)("li",{style:t.style,children:n[t.index]},t.index):Object(O.jsx)("li",{className:"react-virtualized-menu-placeholder",children:n.props.children},t.index)},e}return Object(K.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.options,e.children),n=e.maxHeight,i=(0,e.getValue)(),s=(Object(c.a)(i,1)[0],a.a.Children.toArray(t)),r=n<40*s.length?n:40*s.length;return Object(O.jsx)("span",{className:"react-virtualized-list-wrapper",children:Object(O.jsx)(V.a,{width:"100%",height:r+6,scrollOffset:0,itemCount:s.length,itemSize:40,renderItem:this.renderItem})})}}]),n}(a.a.Component);var Z=function(e){var t=e.isMobile,n=e.screenWidth,s=Object(i.useState)(""),r=Object(c.a)(s,2),u=r[0],b=(r[1],Object(i.useState)("")),j=Object(c.a)(b,2),x=j[0],g=j[1],f=Object(i.useState)({}),m=Object(c.a)(f,2),y=m[0],v=m[1],w=Object(i.useState)(!1),S=Object(c.a)(w,2),C=S[0],k=S[1],M=Object(i.useState)([]),A=Object(c.a)(M,2),T=A[0],G=A[1],P=Object(i.useState)([]),z=Object(c.a)(P,2),E=z[0],H=z[1],K=Object(i.useState)(""),F=Object(c.a)(K,2),D=F[0],V=F[1],Z=Object(i.useState)("$$"),$=Object(c.a)(Z,2),_=$[0],J=$[1],Y=Object(i.useState)(!0),q=Object(c.a)(Y,2),X=q[0],Q=q[1],ee=Object(i.useState)([]),te=Object(c.a)(ee,2),ne=te[0],ie=te[1],ae=Object(i.useState)([]),se=Object(c.a)(ae,2),re=(se[0],se[1],Object(i.useState)([])),oe=Object(c.a)(re,2),ce=(oe[0],oe[1],Object(i.useState)([])),le=Object(c.a)(ce,2),de=le[0],he=le[1],pe=Object(i.useState)(!0),ue=Object(c.a)(pe,2),be=ue[0],je=ue[1],xe=Object(i.useState)(""),ge=Object(c.a)(xe,2),fe=ge[0],Oe=ge[1],me=a.a.createRef(),ye=function(e,t,n){return{value:e,label:e.replace(/\b\w/g,(function(e){return e.toUpperCase()})),type:n,index:t}};Object(i.useEffect)((function(){Ae("TAGS",(function(e){var t=e.split("\n").filter(Me).map((function(e,t){return ye(e,t,"meal")}));Ae("INGS",(function(e){var n=e.split("\n").filter(Me).map((function(e,t){return ye(e,t,"ingredient")}));he(t.concat(n))}))}))}),[]);var ve=function(e){return{$:0,$$:1,$$$:2}[e]},we=function(e){var t=e.wines;e.recipe?v(e.recipe):v({title:ne.map((function(e){return e.label})).join(", ")}),3==t.length?(G(t),H(t[ve(_)])):H(t);var n=t.flat().map((function(e){return Se(e.link)}));Promise.all(n.map((function(e){return e?ke(e):null}))).then((function(){k(!1),Q(!1)})).catch((function(e){return console.log("Failed to load images",e)}))},Se=function(e){var t=e.split("/")[5],n=e.split("/")[6];return"https://images.alko.fi/images/cs_srgb,f_auto,t_products/cdn/".concat(t,"/").concat(n,".jpg")};function Ce(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);return!!e.match(t)}var ke=function(e){return new Promise((function(t,n){var i=new Image;i.src=e,i.onload=function(){return setTimeout((function(){t(e)}),2e3)},i.onerror=function(e){return n(e)}}))};function Me(e,t,n){return n.indexOf(e)===t}function Ae(e,t){fetch("/Roznavene-project-demo/data/".concat(e,".txt")).then((function(e){return e.text()})).then(t)}function Ie(){return Object(O.jsx)("div",{className:"no-scrollbar",id:"wine-display",style:{width:"100%"},children:E?E.map((function(e,t){return Object(O.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"start",paddingBottom:t==E.length-1?"":"10px"},children:I(e)},"wine_display_".concat(t))})):Object(O.jsx)("span",{children:"No recommendations in this price range."})})}var Te=function(e){var t,n;if(k(!0),Ce(e[0].value)){var i=e[0].value;ie([{value:i,label:i}]),g(i),t={link:i},n="link2wine"}else{var a=e.map((function(e){return e.value}));g(a),t={tags:a},n="tags2wine"}var s={method:"POST",url:"https://pocketsomm.dev/api/v1/".concat(n),headers:{"Content-Type":"application/json"},data:t};B.a.request(s).then((function(e){V(!1),we(e.data)})).catch((function(e){V("Request failed with status code 404"===e.message?"":e.message),e.response?(console.log(e.response.data.detail),we(e.response.data.detail)):k(!1)}))};return Object(O.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[Object(O.jsx)("div",{id:"body-header",style:{minHeight:"".concat(D?"88":"68","px")},children:Object(O.jsxs)("div",{id:"body-query",style:{minHeight:"68px",width:t?"95%":"80%",margin:"auto",textAlign:"start"},children:[Object(O.jsx)(l.a.Label,{style:{textAlign:"start",fontSize:"14px",marginBottom:"0px",paddingLeft:"6px"},children:"WHAT ARE YOU EATING?"}),Object(O.jsx)(d.a,{in:!X,children:Object(O.jsxs)("div",{style:{display:X?"none":"flex",height:"43px",alignItems:"center"},children:[Object(O.jsx)(l.a.Label,{style:{textAlign:"start",fontSize:"16px",width:"calc(100% - 25px)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",float:"left"},children:Object(O.jsx)("b",{children:y.title?y.title.toUpperCase():""})}),Object(O.jsx)(R.a,{className:"clickable nodrag",style:{marginLeft:"5px"},size:20,color:"gray",onClick:function(e){Q(!0)}})]})}),Object(O.jsx)(d.a,{in:X,children:Object(O.jsx)("div",{style:{display:X?"":"none",padding:"5px",paddingTop:"0px",zIndex:2,position:"relative"},children:Object(O.jsx)(L.a,{formatCreateLabel:function(e){return Ce(e)?"Use recipe link":'Create "'.concat(fe,'"')},value:ne,onChange:function(e,t){if(!e||!e.length)return ie([]),void je(!0);var n;!Array.isArray(e)&&Ce(e.value)||Ce(e[e.length-1].value)?(n=e,ie(!Array.isArray(n)&&n||n[n.length-1]),je(!1),Te(n)):function(e){ie(e),je(!0)}(e)},onInputChange:function(e){Oe(e);var t=de.sort((function(t,n){var i=t.value.indexOf(e.toLowerCase()),a=n.value.indexOf(e.toLowerCase());return i==a?t.index-n.index:i-a}));he(t)},captureMenuScroll:!1,classNamePrefix:"clickable custom-select",filterOption:Object(N.c)({ignoreAccents:!1}),openMenuOnClick:!1,isMulti:be,placeholder:"search meal or paste recipe link",styles:{input:function(e){return Object(o.a)(Object(o.a)({},e),{},{flex:"1 1 auto","> div":{width:"100% !important"},input:{width:ne&&ne.length?"":"".concat(t?.95*(n-4)-10-36-16:313.39,"px !important"),textAlign:"left !important"}})}},components:{Option:U,MenuList:W},options:de,isClearable:!0})})}),Ce(u)&&u?Object(O.jsx)("div",{style:{width:"80%",margin:"auto"},children:Object(O.jsx)("span",{style:{color:"darkred",float:"left",fontSize:"12px",margin:"2px"},children:"* corked link"})}):null,Object(O.jsx)("div",{id:"error-message",style:{height:"24px",display:D&&!C?"":"none"},children:Object(O.jsx)("span",{style:{fontSize:"13px",color:"red"},children:D})})]})}),Object(O.jsx)(d.a,{id:"body-winelist-$-levels",in:!C&&!!x&&!D,children:Object(O.jsx)("div",{style:{display:C||!x||D?"none":"flex",height:"30px",paddingBottom:"10px",alignItems:"start",justifyContent:"center"},children:Object(O.jsx)(h.a,{"aria-label":"Basic example",children:["$","$$","$$$"].map((function(e){return Object(O.jsx)(p.a,{onClick:function(t){!function(e){J(e),H(T[ve(e)])}(e)},size:"sm",variant:"outline-danger",active:_==e,style:{padding:"0px",width:"45px",height:"20px",fontSize:"14px",lineHeight:"20px"},children:e},e)}))})})}),Object(O.jsx)("div",{id:"body-winelist",className:"animated winelist ".concat(t?"":"hiddenScroll"),style:{width:"100%",selfAlign:"start",overflowY:"auto",overflowX:"hidden",maxHeight:E.length&&!C?"".concat(478,"px"):"0px"},children:["$","$$","$$$"].map((function(e){return Object(O.jsx)(d.a,{in:!C&&_===e,children:Object(O.jsx)("div",{style:{display:C||_!==e?"none":""},children:Object(O.jsx)(Ie,{})})},"".concat(e,"_display"))}))}),Object(O.jsx)("div",{id:"body-footer",style:{width:"100%",height:"60px",display:"flex",justifyContent:"center",alignItems:"end",backgroundColor:"white",padding:"5px",paddingTop:"10px"},children:Object(O.jsx)(p.a,{type:"submit",disabled:!(ne.length||fe&&Ce(fe)),onClick:function(e){Te(ne)},variant:"danger",ref:me,style:{width:"95%",height:"45px",zIndex:0},children:Object(O.jsx)("span",{children:C?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"rotate-center",style:{display:"inline-flex",marginRight:"8px"},children:"\ud83c\udf77"}),Object(O.jsx)("span",{children:"PAIRING..."})]}):"WINE ME"})})})]})},$=n(77),_=n(9),J=(n(130),n(138)),Y=n(140),q=n(142),X=n(63);function Q(e){var t=a.a.useState(!1),n=Object(c.a)(t,2),i=n[0],s=n[1];return Object(O.jsxs)("div",{className:"tag",children:[Object(O.jsx)("span",{style:{textDecoration:i?"line-through":"",color:i?"darkred":""},children:e.content}),e.declinable?Object(O.jsx)(X.a,{className:"clickable",onClick:function(e){return s(!i)}}):null]})}var ee=n(137),te=function(e){var t=e.loading,n=e.component,i=e.className,a=e.style,s=void 0===a?{}:a;return Object(O.jsxs)("div",{className:"Loadable",children:[Object(O.jsx)("div",{style:{display:t?"none":""},children:n}),Object(O.jsx)("div",{className:i,style:{display:t?"flex":"none",justifyContent:"center"},children:Object(O.jsx)(ee.a,{style:Object(o.a)(Object(o.a)({},s),{},{display:t?"":"none"}),as:"span",animation:"border",role:"status","aria-hidden":"true"})})]})};te.defaultProps={style:{marginTop:"0px",width:"10px",height:"10px"}};var ne=te,ie=function(e){Object(F.a)(n,e);var t=Object(D.a)(n);function n(e){var i;return Object(H.a)(this,n),(i=t.call(this,e)).handleClose=function(){return i.setState({show:!1})},i.handleShow=function(){return i.setState({show:!0})},i.handleCreateToast=function(e){i.setState({toast:e})},i.handleTextChange=function(e){i.setState({wineLinks:e})},i.listOfUrls=function(e){return e.split(/\r?\n/).filter((function(e){return i.isUrl(e)}))},i.state={wineLinks:"",loading:!0,recipe:{title:"Braised Green Beans with Fried Tofu",labels:["Pork","Vegetables"],regions:[],ingredients:["2 tablespoons white sugar","3 tablespoons soy sauce","1 cup dry white wine","1/2 cup chicken broth","1 package tofu , drained","salt and pepper to taste","1 tablespoon cornstarch","3 cups oil for frying , or as needed","1 onion , chopped","4 plum tomatoes , sliced into thin wedges","12 ounces fresh green beans , trimmed and cut into 3 inch pieces","1 cup bamboo shoots , drained and sliced","1 cup chicken broth , or as needed","2 tablespoons cornstarch","3 tablespoons water"],steps:"1.\tIn a small bowl, stir together the white sugar, soy sauce, white wine and 1/2 cup of chicken broth. Set the sauce aside. | 2.\tPat the tofu dry with paper towels, and cut into cubes. Season the cubes with salt and pepper. Sprinkle 1 tablespoon of cornstarch over them on all sides. | 3.\tHeat a little more than 1 inch of oil in a large deep skillet over medium-high heat. If you have a deep-fryer, fill to the recommended level, and heat the oil to 375 degrees F (190 degrees C). When the oil is hot, add the tofu, and fry until golden brown on all sides. Turn occasionally. Remove from the oil with a slotted spoon, and drain on paper towels. | 4.\tIn a separate skillet, heat one tablespoon of oil over medium-high heat. Add the onions and green beans; cook and stir for 3 to 5 minutes. Season with salt and pepper. Stir in the tomatoes, and cook until they begin to break apart, about 4 minutes. Add the bamboo shoots, and stir to blend. | 5.\tStir the sauce into the skillet with the beans, and bring to a boil. Cook for 5 minutes, stirring occasionally. If the liquid starts to evaporate too much, stir in up to 1 cup of chicken broth. | 6.\tMix together the remaining 2 tablespoons of cornstarch and water until cornstarch is dissolved. Stir this into the sauce in the skillet. Simmer, stirring gently, until the sauce clears and thickens. Add the fried tofu, and stir to coat with the sauce."},show:!1,toastShow:!1,toastContent:""},i}return Object(K.a)(n,[{key:"isUrl",value:function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);return!!e.match(t)}},{key:"submitRecipe",value:function(){var e=this,t=this.state.recipe.title,n={method:"POST",url:"https://pocketsomm.dev/api/v1/recipePairing",headers:{"Content-Type":"application/json"},data:{wines:this.listOfUrls(this.state.wineLinks).map((function(e){return{link:e,info:""}})),recipeId:this.state.recipe.id,recipeTitle:this.state.recipe.title}};this.setState({loading:!0}),B.a.request(n).then((function(n){console.log(n.data),e.setState({toastShow:!0,toastContent:"Pairing of ".concat(t," successful.")}),e.nextRecipe()})).catch((function(e){console.error(e)}))}},{key:"nextRecipe",value:function(){var e=this;this.setState({loading:!0,wineLinks:""}),B.a.get("https://pocketsomm.dev/api/v1/randomRecipe").then((function(t){var n;e.setState({loading:!1,recipe:(n={id:t.data.Recipe_id,title:t.data.Recipe_title,labels:[],regions:Object.entries(t.data.Cuisine).sort((function(e,t){var n=Object(c.a)(e,2)[1];return Object(c.a)(t,2)[1]-n})).slice(0,3).map((function(e){return"".concat(e[0]," ").concat(Math.round(100*e[1]),"%")}))},Object(u.a)(n,"labels",t.data.Category?t.data.Category.map((function(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))})):[]),Object(u.a)(n,"ingredients",t.data.Ingredients.slice(2,-2).split("', '")),Object(u.a)(n,"steps",t.data.Steps),n)})}))}},{key:"componentDidMount",value:function(){this.nextRecipe()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(ne,{style:{marginTop:"300px"},loading:this.state.loading,component:Object(O.jsxs)("div",{style:{width:"100%",height:"800px"},children:[Object(O.jsxs)(J.a,{scrollable:!0,centered:!0,size:"lg",show:this.state.show,onHide:this.handleClose,children:[Object(O.jsx)(J.a.Header,{children:Object(O.jsx)(J.a.Title,{children:this.state.recipe.title})}),Object(O.jsx)(J.a.Body,{children:Object(O.jsx)(Y.a,{variant:"flush",children:this.state.recipe.steps.split(/\| [0-9]+\./).splice(1).map((function(e,t){return Object(O.jsx)(Y.a.Item,{children:Object(O.jsxs)("span",{style:{display:"block",marginBottom:"10px"},children:[Object(O.jsxs)("b",{children:[t+1,"."]})," ",e]})})}))})}),Object(O.jsx)(J.a.Footer,{children:Object(O.jsx)(p.a,{variant:"danger",onClick:this.handleClose,children:"Close"})})]}),Object(O.jsxs)(q.a,{onClose:function(){return e.setState({toastShow:!1})},delay:8e3,animation:!0,autohide:!0,show:this.state.toastShow,style:{position:"absolute",right:"50px",top:"50px"},children:[Object(O.jsx)(q.a.Header,{children:Object(O.jsx)("strong",{className:"me-auto",children:"PocketSomm"})}),Object(O.jsx)(q.a.Body,{children:this.state.toastContent})]}),Object(O.jsxs)("div",{style:{width:"100%",height:"calc((100vh - 80px)*0.7)",backgroundColor:"#f0f0f0",paddingLeft:"30px",paddingRight:"30px"},children:[Object(O.jsxs)("div",{style:{width:"100%",height:"180px",paddingTop:"10px"},children:[Object(O.jsx)("h4",{children:this.state.recipe.title}),Object(O.jsx)("button",{class:"btn btn-link",onClick:this.handleShow,children:"View steps"}),Object(O.jsxs)("div",{style:{width:"100%",textAlign:"start",height:"32px",display:"flex",alignItems:"center"},children:["Predicted Regions: ",this.state.recipe.regions.length?this.state.recipe.regions.map((function(e){return Object(O.jsx)(Q,{content:"".concat(e),declinable:!0})})):Object(O.jsx)("span",{style:{marginLeft:"30px",fontSize:"14px",color:"darkgray"},children:"None"})]}),Object(O.jsxs)("div",{style:{width:"100%",textAlign:"start",height:"32px",display:"flex",alignItems:"center"},children:["Predicted Categories: ",this.state.recipe.labels.length?this.state.recipe.labels.map((function(e){return Object(O.jsx)(Q,{content:"".concat(e," "),declinable:!0})})):Object(O.jsx)("span",{style:{marginLeft:"30px",fontSize:"14px",color:"darkgray"},children:"None"})]})]}),Object(O.jsx)("div",{style:{width:"35%",textAlign:"start",float:"left",height:"calc(100% - 190px)",overflowY:"auto"},children:this.state.recipe.ingredients.map((function(e){return Object(O.jsx)("span",{style:{display:"block"},children:e})}))})]}),Object(O.jsx)("div",{style:{width:"calc((100vh - 80px)*0.3)",height:"30%"},children:Object(O.jsx)(l.a.Control,{onChange:function(t){return e.handleTextChange(t.target.value)},value:this.state.wineLinks,as:"textarea",placeholder:"Paste wine links here (one per row)",style:{height:"190px",width:"700px",marginLeft:"40px",marginTop:"20px"}})}),Object(O.jsxs)("div",{style:{width:"100%",position:"absolute",bottom:"0px",height:"50px"},children:[Object(O.jsxs)("button",{disabled:!this.state.wineLinks.length||!this.isUrl(this.state.wineLinks.split("\n")[0]),type:"button",class:"btn btn-danger",onClick:function(t){return e.submitRecipe()},children:["Submit Pairings (",this.listOfUrls(this.state.wineLinks).length,")"]}),Object(O.jsx)("button",{type:"button",class:"btn btn-danger-outline",onClick:function(t){return e.nextRecipe()},children:"Skip Recipe"})]})]})})}}]),n}(a.a.Component);var ae=function(){var e=Object(i.useState)(window.innerWidth),t=Object(c.a)(e,2),n=t[0],a=t[1];Object(i.useEffect)((function(){return console.log(window.location),window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}),[]);var s=n<768,r=n>=768&&n<1024,l=.01*window.innerHeight;function d(){a(window.innerWidth)}document.documentElement.style.setProperty("--vh","".concat(l,"px"));var h={width:"100%",height:"calc(var(--vh, 1vh) * 100 - 100px)",borderWidth:"0px",padding:"2px"},p={width:"80%",height:"calc(var(--vh, 1vh) * 100 - 120px)",borderWidth:"0px",padding:"10px"},u={marginTop:"100px",width:"500px",padding:"10px"};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("div",{id:"body-logo",style:{height:"80px",backgroundColor:"#80183b",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(e){window.location.replace("/Roznavene-project-demo")},children:Object(O.jsx)("img",{style:{objectFit:"cover"},href:"/Roznavene-project-demo",className:"clickable nodrag",src:"/Roznavene-project-demo/PocketSomm.LOGO.svg",width:"200px",height:"80px"})}),Object(O.jsx)($.a,{children:Object(O.jsxs)(_.c,{children:[Object(O.jsx)(_.a,{path:"/Roznavene-project-demo/",element:Object(O.jsx)(b.a,{className:"mainBody",style:Object(o.a)({marginTop:s?"20px":"40px"},s?h:r?p:u),children:Object(O.jsx)(Z,{isMobile:s||r,screenWidth:n})})}),Object(O.jsx)(_.a,{path:"/Roznavene-project-demo/pairing",element:Object(O.jsx)(ie,{})})]})})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(ae,{})}),document.getElementById("root")),se()},83:function(e,t,n){},84:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.236220cf.chunk.js.map