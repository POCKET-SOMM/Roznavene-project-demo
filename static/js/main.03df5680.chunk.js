(this["webpackJsonppocket-somm"]=this["webpackJsonppocket-somm"]||[]).push([[0],{43:function(e,t,a){},44:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),s=a.n(r),o=(a(43),a(7)),l=(a.p,a(44),a(79)),c=a(80),d=a(73),u=a(76),p=a(36),j=a(77),h=a(81),b=(a(45),a(78)),x=a(74),g=a(34),O=a(19),y=a(71),m=a(72),f=(a(48),a(1)),S="#e7154e",v="#ededed",C={bodied:"Bodied",tannic:"Tannic",sweetness:"Sweet",acid:"Crisp"},M={bodied:"Light",tannic:"Smooth",sweetness:"Dry",acid:"Soft"},w={Andorra:"AD","United Arab Emirates":"AE",Afghanistan:"AF","Antigua & Barbuda":"AG",Anguilla:"AI",Albania:"AL",Armenia:"AM",Angola:"AO",Argentina:"AR","American Samoa":"AS",Austria:"AT",Australia:"AU",Aruba:"AW","\xc5land Islands":"AX",Azerbaijan:"AZ","Bosnia & Herzegovina":"BA",Barbados:"BB",Bangladesh:"BD",Belgium:"BE","Burkina Faso":"BF",Bulgaria:"BG",Bahrain:"BH",Burundi:"BI",Benin:"BJ","St. Barth\xe9lemy":"BL",Bermuda:"BM",Brunei:"BN",Bolivia:"BO",Brazil:"BR",Bahamas:"BS",Bhutan:"BT","Bouvet Island":"BV",Botswana:"BW",Belarus:"BY",Belize:"BZ",Canada:"CA","Cocos (Keeling) Islands":"CC","Congo - Kinshasa":"CD","Central African Republic":"CF","Congo - Brazzaville":"CG",Switzerland:"CH","C\xf4te d\u2019Ivoire":"CI","Cook Islands":"CK",Chile:"CL",Cameroon:"CM",China:"CN",Colombia:"CO","Costa Rica":"CR",Cuba:"CU","Cape Verde":"CV","Cura\xe7ao":"CW","Christmas Island":"CX",Cyprus:"CY","Czech Republic":"CZ",Germany:"DE",Djibouti:"DJ",Denmark:"DK",Dominica:"DM","Dominican Republic":"DO",Algeria:"DZ",Ecuador:"EC",Estonia:"EE",Egypt:"EG",Eritrea:"ER",Spain:"ES",Ethiopia:"ET","European Union":"EU",Finland:"FI",Fiji:"FJ","Falkland Islands":"FK",Micronesia:"FM","Faroe Islands":"FO",France:"FR",Gabon:"GA","United Kingdom":"GB",England:"GB-ENG","Northern Ireland":"IR",Scotland:"CT",Wales:"LS",Shetland:"ET",Grenada:"GD",Georgia:"GE","French Guiana":"GF",Guernsey:"GG",Ghana:"GH",Gibraltar:"GI",Greenland:"GL",Gambia:"GM",Guinea:"GN",Guadeloupe:"GP","Equatorial Guinea":"GQ",Greece:"GR","So. Georgia & So. Sandwich Isl.":"GS",Guatemala:"GT",Guam:"GU","Guinea-Bissau":"GW",Guyana:"GY","Hong Kong (China)":"HK","Heard & McDonald Islands":"HM",Honduras:"HN",Croatia:"HR",Haiti:"HT",Hungary:"HU",Indonesia:"ID",Ireland:"IE",Israel:"IL","Isle of Man":"IM",India:"IN","British Indian Ocean Territory":"IO",Iraq:"IQ",Iran:"IR",Iceland:"IS",Italy:"IT",Jersey:"JE",Jamaica:"JM",Jordan:"JO",Japan:"JP",Kenya:"KE",Kyrgyzstan:"KG",Cambodia:"KH",Kiribati:"KI",Comoros:"KM","St. Kitts & Nevis":"KN","North Korea":"KP","South Korea":"KR",Kuwait:"KW","Cayman Islands":"KY",Kazakhstan:"KZ",Laos:"LA",Lebanon:"LB","St. Lucia":"LC",Pride:"BT",Liechtenstein:"LI","Sri Lanka":"LK",Liberia:"LR",Lesotho:"LS",Lithuania:"LT",Luxembourg:"LU",Latvia:"LV",Libya:"LY",Morocco:"MA",Monaco:"MC",Moldova:"MD",Montenegro:"ME","St. Martin":"MF",Madagascar:"MG","Marshall Islands":"MH",Macedonia:"MK",Mali:"ML","Myanmar (Burma)":"MM",Mongolia:"MN","Macau (China)":"MO","Northern Mariana Islands":"MP",Martinique:"MQ",Mauritania:"MR",Montserrat:"MS",Malta:"MT",Mauritius:"MU",Maldives:"MV",Malawi:"MW",Mexico:"MX",Malaysia:"MY",Mozambique:"MZ",Namibia:"NA","New Caledonia":"NC",Niger:"NE","Norfolk Island":"NF",Nigeria:"NG",Nicaragua:"NI",Netherlands:"NL",Norway:"NO",Nepal:"NP",Nauru:"NR",Niue:"NU","New Zealand":"NZ",Oman:"OM",Panama:"PA",Peru:"PE","French Polynesia":"PF","Papua New Guinea":"PG",Philippines:"PH",Pakistan:"PK",Poland:"PL","St. Pierre & Miquelon":"PM","Pitcairn Islands":"PN","Puerto Rico":"PR","Palestinian Territories":"PS",Portugal:"PT",Palau:"PW",Paraguay:"PY",Qatar:"QA","R\xe9union":"RE",Romania:"RO",Serbia:"RS",Russia:"RU",Rwanda:"RW","Saudi Arabia":"SA","Solomon Islands":"SB",Seychelles:"SC",Sudan:"SD",Sweden:"SE",Singapore:"SG","St. Helena":"SH",Slovenia:"SI","Svalbard & Jan Mayen":"SJ",Slovakia:"SK","Sierra Leone":"SL","San Marino":"SM",Senegal:"SN",Somalia:"SO",Suriname:"SR","South Sudan":"SS","S\xe3o Tom\xe9 & Pr\xedncipe":"ST","El Salvador":"SV","Sint Maarten":"SX",Syria:"SY",Swaziland:"SZ","Turks & Caicos Islands":"TC",Chad:"TD","French Southern Territories":"TF",Togo:"TG",Thailand:"TH",Tajikistan:"TJ",Tokelau:"TK","Timor-Leste":"TL",Turkmenistan:"TM",Tunisia:"TN",Tonga:"TO",Turkey:"TR","Trinidad & Tobago":"TT",Tuvalu:"TV",Taiwan:"TW",Tanzania:"TZ",Ukraine:"UA",Uganda:"UG","U.S. Outlying Islands":"UM","United States":"US",California:"CA",Uruguay:"UY",Uzbekistan:"UZ","Vatican City":"VA","St. Vincent & Grenadines":"VC",Venezuela:"VE","British Virgin Islands":"VG","U.S. Virgin Islands":"VI",Vietnam:"VN",Vanuatu:"VU","Wallis & Futuna":"WF",Samoa:"WS",Kosovo:"XK",Yemen:"YE",Mayotte:"YT","South Africa":"ZA",Zambia:"ZM",Zimbabwe:"ZW"};var A=function(e){var t=e.split("/")[5],a=e.split("/")[6];return"https://images.alko.fi/images/cs_srgb,f_auto,t_products/cdn/".concat(t,"/").concat(a,".jpg")},B=function(e){var t=T(e.region),a=t.indexOf(e.country);return a>-1&&t.splice(a,1),Object(f.jsxs)("span",{style:{fontSize:"12px"},children:[Object(f.jsx)(O.a,{countryCode:w[e.country].toLowerCase(),height:"15",style:{marginRight:"5px"}}),t.join(", ")," ",e.year?e.year:""]})},I=function(e){return Object.keys(C).map((function(t){return e[t]>=3?"".concat(C[t]):0==e[t]?"".concat(M[t]):""})).filter((function(e){return e})).join(" \u2022 ")},T=function(e){return e.match(RegExp(/(?:\'([^,]+)\'|"([^,]+)")/g)).map((function(e){return e.slice(1,-1)}))};var k=function(e){var t,a,i,r=Object(n.useState)(!1),s=Object(o.a)(r,2),l=s[0],u=s[1],p=Object(n.useState)(!1),j=Object(o.a)(p,2),h=j[0],O=j[1];return Object(f.jsxs)(c.a,{className:"clickable",onMouseEnter:function(e){u(!0)},onMouseLeave:function(e){u(!1)},border:l?"lightgray":"light",style:{backgroundColor:"#f7f7f7",borderColor:l?S:v,width:"95%",margin:"10px"},children:[Object(f.jsx)("div",{style:{borderRadius:"0px 3px 0px 5px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:h?S:v,color:h?"white":"black",width:"80px",height:"30px",position:"absolute",right:"0px",top:"0px",fontSize:"15px"},children:Object(f.jsx)("div",{children:Object(f.jsxs)("span",{style:{display:"block"},children:["\u20ac",e.price.toFixed(2)]})})}),Object(f.jsxs)(b.a,{children:[Object(f.jsx)(b.a.Toggle,{style:{padding:"10px"},as:c.a.Body,eventKey:e["PRODUCT NUMBER"],onClick:function(e){O(!h)},children:Object(f.jsxs)("div",{id:"wine-basics",style:{height:"80px",marginBottom:"10px"},children:[h?Object(f.jsx)(y.a,{color:S,style:{position:"absolute",top:"55px",right:"10px"}}):Object(f.jsx)(m.a,{color:S,style:{position:"absolute",top:"55px",right:"10px"}}),Object(f.jsx)("img",{className:"nodrag",style:{marginRight:"10px",float:"left",transform:l?"scale(1.1)":"",transition:"transform 0.3s",display:"inline-block"},src:A(e.link),height:"70px"}),Object(f.jsxs)("div",{style:{float:"left",position:"relative",width:"calc(100% - 146.66px)",display:"inline-block",height:"100%"},children:[Object(f.jsx)("span",{style:{display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"14px",textAlign:"start"},children:Object(f.jsx)("b",{className:"winelink",onClick:function(t){window.open(e.link,"_blank")},children:(a=e.name.replaceAll("-"," "),i=100,a.length>i?a.substr(0,i-1)+"...":a)})}),Object(f.jsxs)("div",{style:{color:"gray",left:"0px",position:"absolute"},children:[Object(f.jsx)("span",{style:{width:"100%",display:"block",textAlign:"start",fontSize:"13px"},children:B(e)}),Object(f.jsx)("span",{style:{display:"block",textAlign:"start",fontSize:"13px"},children:(t="desert"==e.type?"Dessert":e.type,t.charAt(0).toUpperCase()+t.slice(1))}),Object(f.jsx)(d.a,{in:!h,children:Object(f.jsx)("span",{style:{display:"block",textAlign:"start",fontSize:"13px"},children:I(e)})})]})]})]})}),Object(f.jsx)(b.a.Collapse,{eventKey:e["PRODUCT NUMBER"],as:c.a.Body,children:Object(f.jsx)(d.a,{in:h,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{id:"wine-variety",style:{display:"[]"===e.variety?"none":"",width:"100%",backgroundColor:"#ededed"},children:Object(f.jsxs)(x.a,{style:{padding:"10px"},children:[Object(f.jsx)(g.a,{sm:2,style:{display:"flex",paddingRight:"0px"},children:Object(f.jsx)("img",{style:{marginLeft:"auto",marginRight:"auto",display:"block",marginTop:"auto",marginBottom:"auto"},src:"/Roznavene-project-demo/icons/grapes.png",width:"22"})}),Object(f.jsx)(g.a,{sm:10,children:"[]"!==e.variety?T(e.variety).map((function(t){return Object(f.jsx)("div",{style:{backgroundColor:"white",borderStyle:"solid",borderWidth:"1px",borderColor:"#d4d4d4",borderRadius:"1px",padding:"2px",paddingLeft:"5px",paddingRight:"5px",margin:"3px",height:"25px",display:"inline-block",fontSize:"13px",float:"left"},children:t},"".concat(e["PRODUCT NUMBER"],"_").concat(t,"_variety"))})):null})]})}),Object(f.jsx)("div",{id:"wine-quals",style:{width:"70%",float:"left",padding:"15px"},children:Object.keys(C).map((function(t){return Object(f.jsxs)("div",{style:{width:"100%",height:"35px"},children:[Object(f.jsx)("div",{style:{height:"35px",width:"30%",float:"left",textAlign:"center",verticalAlign:"middle",lineHeight:"30px"},children:Object(f.jsx)("span",{style:{fontSize:"11px",padding:"4px",color:e[t]>1?"gray":""},children:e[t]<=1?Object(f.jsx)("b",{children:M[t].toUpperCase()}):M[t].toUpperCase()})}),Object(f.jsxs)("div",{style:{height:"35px",width:"40%",float:"left",position:"relative",display:"flex"},children:[Object(f.jsx)("div",{style:{alignSelf:"center",width:"100%",height:"3px",position:"absolute",backgroundColor:"#eaeaea",borderRadius:"2px"}}),Object(f.jsx)("div",{style:{alignSelf:"center",width:"7px",height:"7px",position:"absolute",marginLeft:"calc(".concat(25*e[t],"% - 2px)"),borderRadius:"25px",zIndex:0,backgroundColor:S}})]}),Object(f.jsx)("div",{style:{height:"35px",width:"30%",float:"left",textAlign:"center",verticalAlign:"middle",lineHeight:"30px"},children:Object(f.jsx)("span",{style:{fontSize:"11px",padding:"4px",color:e[t]<3?"gray":""},children:e[t]>=3?Object(f.jsx)("b",{children:C[t].toUpperCase()}):C[t].toUpperCase()})})]},"".concat(t,"_bar"))}))}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around",width:"30%",float:"left",marginBottom:"15px",marginTop:"15px",height:"".concat(140,"px")},children:Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{style:{fontSize:"13px",textAlign:"center",padding:"4px"},children:"ALCOHOL"}),Object(f.jsx)("div",{style:{display:"block",margin:"auto"},children:Object(f.jsxs)("span",{style:{fontSize:"14px"},children:[e.ALCOHOL,"%"]})})]})})]})})})]})]},e["PRODUCT NUMBER"])},G=a(35),N=a.n(G),R=a(75);var L=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=(t[0],t[1],Object(n.useState)("")),i=Object(o.a)(a,2),r=i[0],s=i[1],b=Object(n.useState)(""),x=Object(o.a)(b,2),g=x[0],O=x[1],y=Object(n.useState)({}),m=Object(o.a)(y,2),S=m[0],v=m[1],C=Object(n.useState)(!1),M=Object(o.a)(C,2),w=M[0],A=M[1],B=Object(n.useState)(!1),I=Object(o.a)(B,2),T=(I[0],I[1],Object(n.useState)([])),G=Object(o.a)(T,2),L=G[0],E=G[1],P=Object(n.useState)([]),z=Object(o.a)(P,2),U=z[0],K=z[1],F=Object(n.useState)(""),H=Object(o.a)(F,2),D=H[0],$=H[1],V=Object(n.useState)(window.innerWidth),W=Object(o.a)(V,2),Z=W[0],J=W[1],Y=Object(n.useState)("$$"),_=Object(o.a)(Y,2),q=_[0],X=_[1],Q=Object(n.useState)(!0),ee=Object(o.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!0),ie=Object(o.a)(ne,2),re=(ie[0],ie[1],Object(n.useState)(!0)),se=Object(o.a)(re,2),oe=(se[0],se[1],Object(n.useState)(!0)),le=Object(o.a)(oe,2),ce=(le[0],le[1],Object(n.useState)(!0)),de=Object(o.a)(ce,2),ue=(de[0],de[1],Object(n.useState)(!0)),pe=Object(o.a)(ue,2);pe[0],pe[1],Object(n.useEffect)((function(){return window.addEventListener("resize",be),function(){window.removeEventListener("resize",be)}}),[]);var je=Z<=768,he=.01*window.innerHeight;function be(){J(window.innerWidth)}document.documentElement.style.setProperty("--vh","".concat(he,"px"));var xe=function(e){return{$:0,$$:1,$$$:2}[e]},ge=function(e){var t=e.wines;e.recipe&&v(e.recipe),3==t.length?(E(t),K(t[xe(q)])):K(t);var a=t.flat().map((function(e){return ye(e.link)}));Promise.all(a.map((function(e){return e?fe(e):null}))).then((function(){A(!1),e.recipe&&ae(!1)})).catch((function(e){return console.log("Failed to load images",e)}))},Oe=function(e){e.preventDefault(),O(r),A(!0);var t={method:"POST",url:"https://pocketsomm.dev/api/v1/link2wine",headers:{"Content-Type":"application/json"},data:{link:r}};N.a.request(t).then((function(e){$(!1),console.log(e.data),ge(e.data)})).catch((function(e){$(e.message),console.log(e.response.data.detail),ge(e.response.data.detail)}))},ye=function(e){var t=e.split("/")[5],a=e.split("/")[6];return"https://images.alko.fi/images/cs_srgb,f_auto,t_products/cdn/".concat(t,"/").concat(a,".jpg")};function me(){var e=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);return!!r.match(e)}var fe=function(e){return new Promise((function(t,a){var n=new Image;n.src=e,n.onload=function(){return setTimeout((function(){t(e)}),2e3)},n.onerror=function(e){return a(e)}}))};function Se(){return Object(f.jsx)("div",{className:"no-scrollbar",id:"wine-display",style:{width:"100%"},children:U?U.map((function(e){return k(e)})):null})}return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(l.a,{onSubmit:function(e){Oe()},children:Object(f.jsxs)(c.a,{className:"mainBody",children:[Object(f.jsxs)(c.a.Body,{children:[Object(f.jsx)("div",{style:{height:"60px"},children:Object(f.jsx)("img",{onClick:function(e){O(""),ae(!0),X("$$"),s(""),document.getElementById("inlineFormInputGroup").value=""},className:"clickable nodrag",src:"/Roznavene-project-demo/logo.svg",width:"200px"})}),Object(f.jsxs)("div",{style:{width:"80%",margin:"auto",textAlign:"start"},children:[Object(f.jsxs)(l.a.Group,{style:{height:"80px"},children:[Object(f.jsx)(l.a.Label,{onClick:function(e){console.log(U,q)},style:{textAlign:"start",fontSize:"14px"},children:"WHAT ARE YOU EATING?"}),Object(f.jsx)(d.a,{in:!te,children:Object(f.jsxs)("div",{style:{display:te?"none":""},children:[Object(f.jsx)(l.a.Label,{style:{textAlign:"start",fontSize:"16px"},children:Object(f.jsx)("b",{children:S.title?S.title.toUpperCase():""})}),Object(f.jsx)(R.a,{className:"clickable nodrag",style:{marginLeft:"5px"},size:20,color:"gray",onClick:function(e){ae(!0)}})]})}),Object(f.jsx)(d.a,{in:te,children:Object(f.jsxs)(u.a,{style:{display:te?"":"none",margin:"auto"},children:[Object(f.jsx)(u.a.Text,{children:"\ud83c\udf7d\ufe0f"}),Object(f.jsx)(p.a,{onChange:function(e){return s(e.target.value)},id:"inlineFormInputGroup",placeholder:"enter recipe link"})]})}),!me()&&r?Object(f.jsx)("div",{style:{width:"80%",margin:"auto"},children:Object(f.jsx)("span",{style:{color:"darkred",float:"left",fontSize:"12px",margin:"2px"},children:"* corked link"})}):null]}),Object(f.jsx)("div",{style:{height:"24px",display:D&&!w?"":"none"},children:Object(f.jsx)("span",{style:{fontSize:"13px",color:"red"},children:D})})]}),Object(f.jsx)(d.a,{in:!w&&g&&!D,children:Object(f.jsx)("div",{style:{display:w||!g||D?"none":"",height:"24px"},children:Object(f.jsx)(j.a,{"aria-label":"Basic example",children:["$","$$","$$$"].map((function(e){return Object(f.jsx)(h.a,{onClick:function(t){!function(e){X(e),K(L[xe(e)])}(e)},size:"sm",variant:"outline-danger",active:q==e,style:{width:"45px",height:"20px",fontSize:"13px",lineHeight:"0.9"},children:e},e)}))})})}),Object(f.jsx)("div",{id:"winelist",className:"animated winelist",style:{width:"100%",margin:"auto",height:w?"0px":g?je?"calc(100vh - ".concat(309,"px)"):"500px":"0px",overflowY:"auto",overflowX:"hidden"},children:["$","$$","$$$"].map((function(e){return Object(f.jsx)(d.a,{in:!w&&q===e,children:Object(f.jsx)("div",{style:{display:w||q!==e?"none":""},children:Object(f.jsx)(Se,{})})},"".concat(e,"_display"))}))})]}),Object(f.jsx)(c.a.Footer,{className:"button-footer",children:Object(f.jsx)(h.a,{type:"submit",disabled:!r||w||!me(),onClick:Oe,variant:"danger",style:{width:"95%",height:"50px",position:"relative",zIndex:0},children:Object(f.jsx)("span",{children:w?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"rotate-center",style:{display:"inline-flex",marginRight:"8px"},children:"\ud83c\udf77"}),Object(f.jsx)("span",{children:"PAIRING..."})]}):"WINE ME"})})})]})})})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,82)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(L,{})}),document.getElementById("root")),E()}},[[69,1,2]]]);
//# sourceMappingURL=main.03df5680.chunk.js.map