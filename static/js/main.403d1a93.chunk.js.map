{"version":3,"sources":["components/WinePlate.js","components/CustomComponent.js","components/CustomMenuList.js","components/Body.js","components/PairingTool/Tag.js","components/Loadable.js","components/PairingTool/PairingTool.js","App.jsx","reportWebVitals.js","index.js"],"names":["MAIN_COLOR","SECONDARY_COLOR","qualities","qualitiesB","country_code","imageLink","link","productNumber","split","productName","wineOrigin","wine","reg_list","stringToList","index","indexOf","splice","style","fontSize","countryCode","toLowerCase","height","marginRight","join","wineQualsCollapsed","Object","keys","map","qual","filter","e","str","match","RegExp","slice","WinePlate","string","n","useState","hovered","setHovered","toggled","setToggled","Card","className","onMouseEnter","onMouseLeave","border","backgroundColor","borderColor","width","margin","borderRadius","display","justifyContent","alignItems","color","position","right","top","toFixed","Accordion","Toggle","padding","as","Body","eventKey","onClick","id","marginBottom","float","transform","transition","src","whiteSpace","overflow","textOverflow","textAlign","window","open","name","replaceAll","length","substr","left","charAt","toUpperCase","Fade","in","Collapse","minHeight","marginLeft","marginTop","v","borderStyle","borderWidth","paddingLeft","paddingRight","verticalAlign","lineHeight","alignSelf","zIndex","CustomOption","children","props","innerProps","rest","onMouseMove","onMouseOver","newProps","Option","CustomMenuList","renderItem","Array","isArray","this","options","maxHeight","getValue","childrenOptions","React","Children","toArray","wrapperHeight","scrollOffset","itemCount","itemSize","Component","isMobile","screenWidth","meal","pair","setPair","recipe","setRecipe","wining","setWining","allWines","setAllWines","displayedWines","setDisplayedWines","searchErr","setSearchErr","priceRange","setPriceRange","searchVisible","setSearchVisible","selectedTags","setSelectedTags","tags","setTags","isMulti","setIsMulti","inputText","setInputText","wineMeRef","createRef","optionObject","option","type","value","label","replace","l","useEffect","readFile","text","meals","onlyUnique","i","ings","concat","priceIndex","level","loadWines","data","wines","title","m","IMAGES","flat","w","Promise","all","image","loadImage","then","catch","err","console","log","isLink","regex","resolve","reject","loadImg","Image","onload","setTimeout","onerror","self","file","cb","fetch","response","WineDisplay","paddingBottom","handleWineMe","payload","endpoint","p","method","url","headers","axios","request","error","message","detail","flexDirection","Form","Label","size","paddingTop","formatCreateLabel","input","onChange","action","toTagMode","onInputChange","newTags","sort","a","b","a_i","b_i","captureMenuScroll","classNamePrefix","filterOption","createFilter","ignoreAccents","openMenuOnClick","placeholder","styles","css","flex","components","MenuList","isClearable","ButtonGroup","Button","handlePriceLevelChange","variant","active","selfAlign","overflowY","overflowX","disabled","ref","Tag","declined","setDeclined","textDecoration","content","declinable","Loadable","loading","component","Spinner","animation","role","defaultProps","emptyRecipe","steps","ingredients","regions","labels","pairingText","PairingTool","handleClose","setState","show","handleShow","handleCloseHistory","showHistory","handleShowHistory","goToRecipe","recipeIndex","textBoxContent","state","recipeHistory","handleNextClick","nextRecipe","handlePrevClick","handleCreateToast","toast","currentRecipe","handleTextChange","listOfUrls","isUrl","pairingChanged","JSON","stringify","submitButtonText","updating","toastShow","toastContent","bind","history","paired","info","recipeId","recipeTitle","res","get","oldState","Recipe_id","Recipe_title","entries","Cuisine","Math","round","Category","c","letter","Ingredients","Steps","Modal","scrollable","centered","onHide","Header","Title","ListGroup","step","Item","Footer","Toast","onClose","delay","autohide","Offcanvas","placement","closeButton","r","Badge","bg","class","bottom","submitRecipe","Control","target","opacity","App","innerWidth","setWidth","location","addEventListener","handleWindowSizeChange","removeEventListener","isTablet","vh","innerHeight","document","documentElement","setProperty","mobileStyle","tabletStyle","desktopStyle","objectFit","href","basename","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.403d1a93.chunk.js","sourcesContent":["import PieChart from 'react-simple-pie-chart';\r\nimport React, { useState } from 'react';\r\nimport { Accordion, Card, Fade, Row, Col, ProgressBar, Form } from 'react-bootstrap';\r\nimport { CircleFlag } from 'react-circle-flags';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport { SCRIPT_PATH } from 'papaparse';\r\n\r\nconst MAIN_COLOR = '#80183b'\r\nconst SECONDARY_COLOR = '#ededed'\r\n\r\nconst qualities = {\r\n    'bodied': 'Bodied',\r\n    'tannic': 'Tannic',\r\n    'sweet': 'Sweet',\r\n    // 'dry': 'Dry',\r\n    'acid': 'Crisp'\r\n}\r\n\r\nconst qualitiesB = {\r\n    'bodied': 'Light',\r\n    'tannic': 'Smooth',\r\n    'sweet': 'Dry',\r\n    'acid': 'Soft'\r\n}\r\n\r\nconst country_code = {\r\n    'Andorra': 'AD',\r\n    'United Arab Emirates': 'AE',\r\n    'Afghanistan': 'AF',\r\n    'Antigua & Barbuda': 'AG',\r\n    'Anguilla': 'AI',\r\n    'Albania': 'AL',\r\n    'Armenia': 'AM',\r\n    'Angola': 'AO',\r\n    'Argentina': 'AR',\r\n    'American Samoa': 'AS',\r\n    'Austria': 'AT',\r\n    'Australia': 'AU',\r\n    'Aruba': 'AW',\r\n    'Åland Islands': 'AX',\r\n    'Azerbaijan': 'AZ',\r\n    'Bosnia & Herzegovina': 'BA',\r\n    'Barbados': 'BB',\r\n    'Bangladesh': 'BD',\r\n    'Belgium': 'BE',\r\n    'Burkina Faso': 'BF',\r\n    'Bulgaria': 'BG',\r\n    'Bahrain': 'BH',\r\n    'Burundi': 'BI',\r\n    'Benin': 'BJ',\r\n    'St. Barthélemy': 'BL',\r\n    'Bermuda': 'BM',\r\n    'Brunei': 'BN',\r\n    'Bolivia': 'BO',\r\n    'Brazil': 'BR',\r\n    'Bahamas': 'BS',\r\n    'Bhutan': 'BT',\r\n    'Bouvet Island': 'BV',\r\n    'Botswana': 'BW',\r\n    'Belarus': 'BY',\r\n    'Belize': 'BZ',\r\n    'Canada': 'CA',\r\n    'Cocos (Keeling) Islands': 'CC',\r\n    'Congo - Kinshasa': 'CD',\r\n    'Central African Republic': 'CF',\r\n    'Congo - Brazzaville': 'CG',\r\n    'Switzerland': 'CH',\r\n    'Côte d’Ivoire': 'CI',\r\n    'Cook Islands': 'CK',\r\n    'Chile': 'CL',\r\n    'Cameroon': 'CM',\r\n    'China': 'CN',\r\n    'Colombia': 'CO',\r\n    'Costa Rica': 'CR',\r\n    'Cuba': 'CU',\r\n    'Cape Verde': 'CV',\r\n    'Curaçao': 'CW',\r\n    'Christmas Island': 'CX',\r\n    'Cyprus': 'CY',\r\n    'Czech Republic': 'CZ',\r\n    'Germany': 'DE',\r\n    'Djibouti': 'DJ',\r\n    'Denmark': 'DK',\r\n    'Dominica': 'DM',\r\n    'Dominican Republic': 'DO',\r\n    'Algeria': 'DZ',\r\n    'Ecuador': 'EC',\r\n    'Estonia': 'EE',\r\n    'Egypt': 'EG',\r\n    'Eritrea': 'ER',\r\n    'Spain': 'ES',\r\n    'Ethiopia': 'ET',\r\n    'European Union': 'EU',\r\n    'Finland': 'FI',\r\n    'Fiji': 'FJ',\r\n    'Falkland Islands': 'FK',\r\n    'Micronesia': 'FM',\r\n    'Faroe Islands': 'FO',\r\n    'France': 'FR',\r\n    'Gabon': 'GA',\r\n    'United Kingdom': 'GB',\r\n    'England': 'GB-ENG',\r\n    'Northern Ireland': 'IR',\r\n    'Scotland': 'CT',\r\n    'Wales': 'LS',\r\n    'Shetland': 'ET',\r\n    'Grenada': 'GD',\r\n    'Georgia': 'GE',\r\n    'French Guiana': 'GF',\r\n    'Guernsey': 'GG',\r\n    'Ghana': 'GH',\r\n    'Gibraltar': 'GI',\r\n    'Greenland': 'GL',\r\n    'Gambia': 'GM',\r\n    'Guinea': 'GN',\r\n    'Guadeloupe': 'GP',\r\n    'Equatorial Guinea': 'GQ',\r\n    'Greece': 'GR',\r\n    'So. Georgia & So. Sandwich Isl.': 'GS',\r\n    'Guatemala': 'GT',\r\n    'Guam': 'GU',\r\n    'Guinea-Bissau': 'GW',\r\n    'Guyana': 'GY',\r\n    'Hong Kong (China)': 'HK',\r\n    'Heard & McDonald Islands': 'HM',\r\n    'Honduras': 'HN',\r\n    'Croatia': 'HR',\r\n    'Haiti': 'HT',\r\n    'Hungary': 'HU',\r\n    'Indonesia': 'ID',\r\n    'Ireland': 'IE',\r\n    'Israel': 'IL',\r\n    'Isle of Man': 'IM',\r\n    'India': 'IN',\r\n    'British Indian Ocean Territory': 'IO',\r\n    'Iraq': 'IQ',\r\n    'Iran': 'IR',\r\n    'Iceland': 'IS',\r\n    'Italy': 'IT',\r\n    'Jersey': 'JE',\r\n    'Jamaica': 'JM',\r\n    'Jordan': 'JO',\r\n    'Japan': 'JP',\r\n    'Kenya': 'KE',\r\n    'Kyrgyzstan': 'KG',\r\n    'Cambodia': 'KH',\r\n    'Kiribati': 'KI',\r\n    'Comoros': 'KM',\r\n    'St. Kitts & Nevis': 'KN',\r\n    'North Korea': 'KP',\r\n    'South Korea': 'KR',\r\n    'Kuwait': 'KW',\r\n    'Cayman Islands': 'KY',\r\n    'Kazakhstan': 'KZ',\r\n    'Laos': 'LA',\r\n    'Lebanon': 'LB',\r\n    'St. Lucia': 'LC',\r\n    'Pride': 'BT',\r\n    'Liechtenstein': 'LI',\r\n    'Sri Lanka': 'LK',\r\n    'Liberia': 'LR',\r\n    'Lesotho': 'LS',\r\n    'Lithuania': 'LT',\r\n    'Luxembourg': 'LU',\r\n    'Latvia': 'LV',\r\n    'Libya': 'LY',\r\n    'Morocco': 'MA',\r\n    'Monaco': 'MC',\r\n    'Moldova': 'MD',\r\n    'Montenegro': 'ME',\r\n    'St. Martin': 'MF',\r\n    'Madagascar': 'MG',\r\n    'Marshall Islands': 'MH',\r\n    'Macedonia': 'MK',\r\n    'Mali': 'ML',\r\n    'Myanmar (Burma)': 'MM',\r\n    'Mongolia': 'MN',\r\n    'Macau (China)': 'MO',\r\n    'Northern Mariana Islands': 'MP',\r\n    'Martinique': 'MQ',\r\n    'Mauritania': 'MR',\r\n    'Montserrat': 'MS',\r\n    'Malta': 'MT',\r\n    'Mauritius': 'MU',\r\n    'Maldives': 'MV',\r\n    'Malawi': 'MW',\r\n    'Mexico': 'MX',\r\n    'Malaysia': 'MY',\r\n    'Mozambique': 'MZ',\r\n    'Namibia': 'NA',\r\n    'New Caledonia': 'NC',\r\n    'Niger': 'NE',\r\n    'Norfolk Island': 'NF',\r\n    'Nigeria': 'NG',\r\n    'Nicaragua': 'NI',\r\n    'Netherlands': 'NL',\r\n    'Norway': 'NO',\r\n    'Nepal': 'NP',\r\n    'Nauru': 'NR',\r\n    'Niue': 'NU',\r\n    'New Zealand': 'NZ',\r\n    'Oman': 'OM',\r\n    'Panama': 'PA',\r\n    'Peru': 'PE',\r\n    'French Polynesia': 'PF',\r\n    'Papua New Guinea': 'PG',\r\n    'Philippines': 'PH',\r\n    'Pakistan': 'PK',\r\n    'Poland': 'PL',\r\n    'St. Pierre & Miquelon': 'PM',\r\n    'Pitcairn Islands': 'PN',\r\n    'Puerto Rico': 'PR',\r\n    'Palestinian Territories': 'PS',\r\n    'Portugal': 'PT',\r\n    'Palau': 'PW',\r\n    'Paraguay': 'PY',\r\n    'Qatar': 'QA',\r\n    'Réunion': 'RE',\r\n    'Romania': 'RO',\r\n    'Serbia': 'RS',\r\n    'Russia': 'RU',\r\n    'Rwanda': 'RW',\r\n    'Saudi Arabia': 'SA',\r\n    'Solomon Islands': 'SB',\r\n    'Seychelles': 'SC',\r\n    'Sudan': 'SD',\r\n    'Sweden': 'SE',\r\n    'Singapore': 'SG',\r\n    'St. Helena': 'SH',\r\n    'Slovenia': 'SI',\r\n    'Svalbard & Jan Mayen': 'SJ',\r\n    'Slovakia': 'SK',\r\n    'Sierra Leone': 'SL',\r\n    'San Marino': 'SM',\r\n    'Senegal': 'SN',\r\n    'Somalia': 'SO',\r\n    'Suriname': 'SR',\r\n    'South Sudan': 'SS',\r\n    'São Tomé & Príncipe': 'ST',\r\n    'El Salvador': 'SV',\r\n    'Sint Maarten': 'SX',\r\n    'Syria': 'SY',\r\n    'Swaziland': 'SZ',\r\n    'Turks & Caicos Islands': 'TC',\r\n    'Chad': 'TD',\r\n    'French Southern Territories': 'TF',\r\n    'Togo': 'TG',\r\n    'Thailand': 'TH',\r\n    'Tajikistan': 'TJ',\r\n    'Tokelau': 'TK',\r\n    'Timor-Leste': 'TL',\r\n    'Turkmenistan': 'TM',\r\n    'Tunisia': 'TN',\r\n    'Tonga': 'TO',\r\n    'Turkey': 'TR',\r\n    'Trinidad & Tobago': 'TT',\r\n    'Tuvalu': 'TV',\r\n    'Taiwan': 'TW',\r\n    'Tanzania': 'TZ',\r\n    'Ukraine': 'UA',\r\n    'Uganda': 'UG',\r\n    'U.S. Outlying Islands': 'UM',\r\n    'United States': 'US',\r\n    'California': 'CA',\r\n    'Uruguay': 'UY',\r\n    'Uzbekistan': 'UZ',\r\n    'Vatican City': 'VA',\r\n    'St. Vincent & Grenadines': 'VC',\r\n    'Venezuela': 'VE',\r\n    'British Virgin Islands': 'VG',\r\n    'U.S. Virgin Islands': 'VI',\r\n    'Vietnam': 'VN',\r\n    'Vanuatu': 'VU',\r\n    'Wallis & Futuna': 'WF',\r\n    'Samoa': 'WS',\r\n    'Kosovo': 'XK',\r\n    'Yemen': 'YE',\r\n    'Mayotte': 'YT',\r\n    'South Africa': 'ZA',\r\n    'Zambia': 'ZM',\r\n    'Zimbabwe': 'ZW'\r\n}\r\n\r\nfunction capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nfunction truncate(str, n) {\r\n    return (str.length > n) ? str.substr(0, n - 1) + '...' : str;\r\n}\r\n\r\nconst imageLink = (link) => {\r\n    let productNumber = link.split('/')[5]\r\n    let productName = link.split('/')[6]\r\n    return `https://images.alko.fi/images/cs_srgb,f_auto,t_products/cdn/${productNumber}/${productName}.jpg`\r\n}\r\n\r\nconst wineOrigin = (wine) => {\r\n    let reg_list = stringToList(wine['region'])\r\n    let index = reg_list.indexOf(wine['country'])\r\n    if (index > -1) {\r\n        reg_list.splice(index, 1)\r\n    }\r\n    return (\r\n        <span style={{ fontSize: '12px' }}>\r\n            <CircleFlag countryCode={country_code[wine['country']].toLowerCase()} height=\"15\" style={{ marginRight: '5px' }} />\r\n            {reg_list.join(', ')} {wine['year'] ? wine['year'] : ''}\r\n        </span>\r\n    )\r\n\r\n    if (wine['wine_region'] || wine['wine_subregion'])\r\n        return (\r\n            <span>\r\n                <CircleFlag countryCode={country_code[wine['country']].toLowerCase()} height=\"15\" style={{ marginRight: '5px' }} />\r\n                {/* <Flag country={country_code[wine['country']]} size={15} style={{ marginRight: '5px' }}></Flag> */}\r\n                {wine['wine_region']}{wine['wine_region'] && wine['wine_subregion'] ? ', ' : ''}{wine['wine_subregion']}\r\n                {wine['year'] ? ` - ${wine['year']}` : ''}\r\n            </span>\r\n        )\r\n    else\r\n        return (\r\n            <span>\r\n                <CircleFlag countryCode={country_code[wine['country']].toLowerCase()} height=\"15\" style={{ marginRight: '5px' }} />\r\n                {/* <Flag country={country_code[wine['country']]} size={15} style={{ marginRight: '5px' }}></Flag> */}\r\n                {/* {wine['country']} */}\r\n                {wine['year'] ? ` ${wine['year']}` : ''}\r\n            </span>\r\n        )\r\n}\r\n\r\nconst wineQualsCollapsed = (wine) => {\r\n    return Object.keys(qualities).map(qual =>\r\n        wine[qual] >= 3 ? `${qualities[qual]}` :\r\n            wine[qual] == 0 ? `${qualitiesB[qual]}` :\r\n                '').filter(e => e).join(' • ')\r\n}\r\n\r\nconst stringToList = (str) => {\r\n    return str.match(RegExp(/(?:\\'([^,]+)\\'|\"([^,]+)\")/g)).map(e => e.slice(1, -1))\r\n}\r\n\r\nfunction WinePlate(wine) {\r\n    const [hovered, setHovered] = useState(false)\r\n    const [toggled, setToggled] = useState(false)\r\n\r\n    return (\r\n        <Card\r\n            key={wine['PRODUCT NUMBER']}\r\n            className=\"clickable wineplate\"\r\n            onMouseEnter={e => { setHovered(true) }}\r\n            onMouseLeave={e => { setHovered(false) }}\r\n            // onClick={e => { console.log(\r\n            //     stringToList(wine['region'])\r\n            // )}}\r\n            border={hovered ? 'lightgray' : 'light'}\r\n            style={{\r\n                backgroundColor: '#f7f7f7',\r\n                borderColor: hovered ? MAIN_COLOR : SECONDARY_COLOR,\r\n                width: '95%',\r\n                margin: '0px !important'\r\n                // boxShadow:`inset 37px 0px 1px -30px ${types[wine.type]}` \r\n            }}>\r\n            {/* <Card.Body style={{ padding: '15px' }}> */}\r\n            <div style={{\r\n                borderRadius: '0px 3px 0px 5px',\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                backgroundColor: toggled ? MAIN_COLOR : SECONDARY_COLOR,\r\n                color: toggled ? 'white' : 'black',\r\n                width: '80px',\r\n                height: '30px',\r\n                position: 'absolute',\r\n                right: '0px',\r\n                top: '0px',\r\n                fontSize: '15px'\r\n            }}>\r\n                <div>\r\n                    <span style={{ display: 'block' }}>€{wine['price'].toFixed(2)}</span>\r\n                    {/* <a style={{ display: 'block', fontSize: '10px' }}>see store</a> */}\r\n                </div>\r\n            </div>\r\n            <Accordion>\r\n                <Accordion.Toggle style={{ padding: '10px' }} as={Card.Body} eventKey={wine['PRODUCT NUMBER']} onClick={e => { setToggled(!toggled) }}>\r\n                    <div id=\"wine-basics\" style={{\r\n                        height: '80px',\r\n                        marginBottom: '10px'\r\n                    }}>\r\n                        {\r\n                            toggled ? <Icon.CaretUpFill color={MAIN_COLOR} style={{\r\n                                position: 'absolute',\r\n                                top: '55px',\r\n                                right: '10px'\r\n                            }} /> : <Icon.CaretDownFill color={MAIN_COLOR} style={{\r\n                                position: 'absolute',\r\n                                top: '55px',\r\n                                right: '10px'\r\n                            }} />\r\n\r\n                        }\r\n                        <img\r\n                            className=\"nodrag\"\r\n                            style={{\r\n                                marginRight: '10px',\r\n                                float: 'left',\r\n                                transform: hovered ? 'scale(1.1)' : '',\r\n                                transition: 'transform 0.3s',\r\n                                display: 'inline-block'\r\n                            }}\r\n                            src={imageLink(wine.link)}\r\n                            height=\"70px\"\r\n                        />\r\n                        <div style={{ float: 'left', position: 'relative', width: 'calc(100% - 146.66px)', display: 'inline-block', height: '100%' }}>\r\n                            <span\r\n                                style={{\r\n                                    display: 'block',\r\n                                    whiteSpace: 'nowrap',\r\n                                    overflow: 'hidden',\r\n                                    textOverflow: 'ellipsis',\r\n                                    fontSize: '14px',\r\n                                    textAlign: 'start'\r\n                                }}>\r\n                                <b className=\"winelink\"\r\n                                    onClick={e => { window.open(wine['link'], '_blank') }} >{truncate(wine.name.replaceAll('-', ' '), 100)}</b>\r\n                            </span>\r\n                            <div style={{ color: 'gray', left: '0px' }}>\r\n                                <span style={{\r\n                                    display: 'block', textAlign: 'start', fontSize: '13px',\r\n                                    width: 'calc(100%)',\r\n                                    whiteSpace: toggled ? '' : 'nowrap',\r\n                                    overflow: toggled ? '' : 'hidden',\r\n                                    display: 'block',\r\n                                    textOverflow: 'ellipsis',\r\n                                }}>\r\n                                    {wineOrigin(wine)}\r\n                                    {/* <Flag country={country_code[wine['country']]} size={15} style={{ marginRight: '5px' }}></Flag>{wine['wine_region']}{wine['wine_subregion'] ? `, ${wine['wine_subregion']}` : ''}{wine['year'] !== '0' ? ` - ${wine['year']}` : ''} */}\r\n                                </span>\r\n                                <span style={{\r\n                                    display: 'block', textAlign: 'start', fontSize: '13px', width: 'calc(100%)',\r\n                                    whiteSpace: toggled ? '' : 'nowrap',\r\n                                    overflow: toggled ? '' : 'hidden',\r\n                                    display: 'block',\r\n                                    textOverflow: 'ellipsis',\r\n                                }}>\r\n                                    {capitalizeFirstLetter(wine['type'] == 'desert' ? 'Dessert' : wine['type'])}\r\n                                </span>\r\n                                <Fade in={!toggled}>\r\n                                    <span style={{\r\n                                        display: 'block', textAlign: 'start', fontSize: '13px', width: 'calc(100%)',\r\n                                        whiteSpace: toggled ? '' : 'nowrap',\r\n                                        overflow: toggled ? '' : 'hidden',\r\n                                        display: 'block',\r\n                                        textOverflow: 'ellipsis',\r\n                                    }}>\r\n                                        {\r\n                                            wineQualsCollapsed(wine)\r\n                                        }\r\n                                    </span>\r\n                                </Fade>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Accordion.Toggle>\r\n                <Accordion.Collapse eventKey={wine['PRODUCT NUMBER']} as={Card.Body}>\r\n                    <Fade in={toggled}>\r\n                        <div>\r\n                            <div id=\"wine-variety\"\r\n                                style={{\r\n                                    display: wine['variety'].length < 3 ? 'none' : 'flex',\r\n                                    width: '100%',\r\n                                    backgroundColor: '#ededed',\r\n                                    padding: '10px',\r\n                                    minHeight: '50px',\r\n                                    justifyContent: 'stretch',\r\n                                    alignItems: 'center'\r\n                                }}>\r\n                                <div style={{ height: '100%', width: '20%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                    <img\r\n                                        style={{ marginLeft: 'auto', marginRight: 'auto', display: 'block', marginTop: 'auto', marginBottom: 'auto' }}\r\n                                        src=\"/Roznavene-project-demo/icons/grapes.png\"\r\n                                        width=\"22\" />\r\n                                </div>\r\n                                <div style={{ height: '100%', width: '80%' }}>\r\n                                    {\r\n                                        wine['variety'].length > 3 ? stringToList(wine['variety']).map(v =>\r\n                                            <div key={`${wine['PRODUCT NUMBER']}_${v}_variety`} style={{\r\n                                                backgroundColor: 'white',\r\n                                                borderStyle: 'solid',\r\n                                                borderWidth: '1px',\r\n                                                borderColor: '#d4d4d4',\r\n                                                borderRadius: '1px',\r\n                                                padding: '2px',\r\n                                                paddingLeft: '5px',\r\n                                                paddingRight: '5px',\r\n                                                margin: '3px',\r\n                                                height: '25px',\r\n                                                display: 'inline-block',\r\n                                                fontSize: '13px',\r\n                                                float: 'left'\r\n                                            }}>{v}</div>\r\n                                        ) : null\r\n                                    }\r\n                                </div>\r\n                                {/* <Row style={{ padding: '10px' }}>\r\n                                    <Col sm={2} style={{ display: 'flex', paddingRight: '0px' }}><img\r\n                                        style={{ marginLeft: 'auto', marginRight: 'auto', display: 'block', marginTop: 'auto', marginBottom: 'auto' }}\r\n                                        src=\"/Roznavene-project-demo/icons/grapes.png\"\r\n                                        width=\"22\" />\r\n                                    </Col>\r\n                                    <Col sm={10}>\r\n                                        {\r\n                                            wine['variety'] !== \"[]\" ? stringToList(wine['variety']).map(v =>\r\n                                                <div key={`${wine['PRODUCT NUMBER']}_${v}_variety`} style={{\r\n                                                    backgroundColor: 'white',\r\n                                                    borderStyle: 'solid',\r\n                                                    borderWidth: '1px',\r\n                                                    borderColor: '#d4d4d4',\r\n                                                    borderRadius: '1px',\r\n                                                    padding: '2px',\r\n                                                    paddingLeft: '5px',\r\n                                                    paddingRight: '5px',\r\n                                                    margin: '3px',\r\n                                                    height: '25px',\r\n                                                    display: 'inline-block',\r\n                                                    fontSize: '13px',\r\n                                                    float: 'left'\r\n                                                }}>{v}</div>\r\n                                            ) : null\r\n                                        }\r\n                                    </Col>\r\n                                </Row> */}\r\n                            </div>\r\n                            <div id=\"wine-quals\" style={{ width: '70%', float: 'left', padding: '15px' }}>\r\n                                {\r\n                                    Object.keys(qualities).map(qual => {\r\n                                        return (\r\n\r\n                                            <div key={`${qual}_bar`} style={{ width: '100%', height: '35px' }}>\r\n                                                <div style={{\r\n                                                    height: '35px',\r\n                                                    width: '30%',\r\n                                                    float: 'left',\r\n                                                    textAlign: 'center',\r\n                                                    verticalAlign: 'middle',\r\n                                                    lineHeight: '30px'\r\n                                                }}>\r\n                                                    <span style={{\r\n                                                        fontSize: '11px',\r\n                                                        padding: '4px',\r\n                                                        color: wine[qual] > 1 ? 'gray' : ''\r\n                                                    }}>\r\n                                                        {\r\n                                                            wine[qual] <= 1 ? <b>{qualitiesB[qual].toUpperCase()}</b> : qualitiesB[qual].toUpperCase()\r\n                                                        }\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div style={{ height: '35px', width: '40%', float: 'left', position: 'relative', display: 'flex' }}>\r\n                                                    <div style={{ alignSelf: 'center', width: '100%', height: '3px', position: 'absolute', backgroundColor: '#eaeaea', borderRadius: '2px' }} />\r\n                                                    <div style={{ alignSelf: 'center', width: '7px', height: '7px', position: 'absolute', marginLeft: `calc(${wine[qual] * 25}% - 2px)`, borderRadius: '25px', zIndex: 0, backgroundColor: MAIN_COLOR }} />\r\n                                                </div>\r\n                                                <div style={{\r\n                                                    height: '35px',\r\n                                                    width: '30%',\r\n                                                    float: 'left',\r\n                                                    textAlign: 'center',\r\n                                                    verticalAlign: 'middle',\r\n                                                    lineHeight: '30px'\r\n                                                }}>\r\n                                                    <span style={{\r\n                                                        fontSize: '11px',\r\n                                                        padding: '4px',\r\n                                                        color: wine[qual] < 3 ? 'gray' : ''\r\n                                                    }}>\r\n                                                        {\r\n                                                            wine[qual] >= 3 ? <b>{qualities[qual].toUpperCase()}</b> : qualities[qual].toUpperCase()\r\n                                                        }\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div id=\"wine-alcohol\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-around', width: '30%', float: 'left', marginBottom: '15px', marginTop: '15px', height: `${4 * 35}px` }}>\r\n                                <div>\r\n                                    <span style={{\r\n                                        fontSize: '13px',\r\n                                        textAlign: 'center',\r\n                                        padding: '4px',\r\n                                    }}>\r\n                                        ALCOHOL\r\n                                    </span>\r\n                                    <div style={{\r\n                                        display: 'block', margin: 'auto'\r\n                                    }}>\r\n                                        <span style={{ fontSize: '14px' }}>{wine['ALCOHOL']}%</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            {/* <div id=\"wine-quals\" style={{ width: '100%' }}>\r\n                                {\r\n                                    Object.keys(qualities).map(qual => {\r\n                                        return (\r\n                                            <div key={`${qual}_chart`} style={{ float: 'left', width: '20%', height: '100px', marginTop: '15px', marginBottom: '15px' }}>\r\n                                                <div style={{ height: '20%', width: '100%' }}>\r\n                                                    <span style={{\r\n                                                        fontSize: '11px',\r\n                                                        textAlign: 'center',\r\n                                                        // color: wine[qual] == 0 ? 'gray' : ''\r\n                                                    }}>\r\n                                                        {\r\n                                                            wine[qual] >= 3 ? <b>{qualities[qual].toUpperCase()}</b> : qualities[qual].toUpperCase()\r\n                                                        }\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div style={{ height: '60%', width: '100%', position: 'relative', display: 'flex', alignItems: 'center' }}>\r\n                                                    <div style={{ margin: 'auto', width: '3px', height: '80%', backgroundColor: '#eaeaea', borderRadius: '2px' }}>\r\n                                                        <div style={{ marginLeft: '-2px', width: '7px', height: '7px', marginTop: `${-3 + 12 * (4 - wine[qual])}px`, borderRadius: '25px', zIndex: 0, backgroundColor: MAIN_COLOR }} />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div style={{ height: '20%', width: '100%' }}>\r\n                                                    <span style={{\r\n                                                        fontSize: '11px',\r\n                                                        textAlign: 'center',\r\n                                                        // color: wine[qual] == 0 ? 'gray' : ''\r\n                                                    }}>\r\n                                                        {\r\n                                                            wine[qual] <= 1 ? <b>{qualitiesB[qual].toUpperCase()}</b> : qualitiesB[qual].toUpperCase()\r\n                                                        }\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                                <div style={{ float: 'left', width: '20%', height: '100px', display:'flex', alignItems:'center' }}>\r\n                                    <div style={{\r\n                                        marginTop: 'auto',\r\n                                        marginBottom: 'auto',\r\n                                        height:'50%'\r\n                                    }}>\r\n                                        <span style={{\r\n                                            fontSize: '11px',\r\n                                            textAlign: 'center',\r\n                                            padding: '4px',\r\n                                        }}>\r\n                                            ALCOHOL\r\n                                        </span>\r\n                                        <div style={{\r\n                                            display: 'block', margin: 'auto'\r\n                                        }}>\r\n                                            <span style={{ fontSize: '12px' }}>{wine['ALCOHOL']}%</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div> */}\r\n\r\n\r\n\r\n                            {/* <div id=\"wine-quals\" style={{ width: '100%', height: '70px', display: 'block' }}>\r\n                                {\r\n                                    Object.keys(qualities).map(qual => {\r\n                                        return (\r\n                                            <div key={`${qual}_chart`} style={{ float: 'left', width: '20%' }}>\r\n                                                <span style={{\r\n                                                    fontSize: '13px',\r\n                                                    textAlign: 'center',\r\n                                                    padding: '4px',\r\n                                                    color: wine[qual] == 0 ? 'gray' : ''\r\n                                                }}>\r\n                                                    {\r\n                                                        wine[qual] >= 1 ? <b>{qualities[qual]}</b> : qualities[qual]\r\n                                                    }\r\n                                                </span>\r\n                                                <div style={{\r\n                                                    width: '20px', height: '20px', display: 'block', margin: 'auto'\r\n                                                }}>\r\n                                                    <PieChart slices={[{ color: '#f7f7f7', value: (4 - wine[qual]) * 10 }, { color: MAIN_COLOR, value: (wine[qual]) * 10 }]} />\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                                <div style={{ float: 'left', width: '20%' }}>\r\n                                    <span style={{\r\n                                        fontSize: '13px',\r\n                                        textAlign: 'center',\r\n                                        padding: '4px'\r\n                                    }}>\r\n                                        Alcohol\r\n                                    </span>\r\n                                    <div style={{\r\n                                        display: 'block', margin: 'auto'\r\n                                    }}>\r\n                                        <span style={{ fontSize: '13px' }}>{wine['ALCOHOL']}%</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div> */}\r\n                        </div>\r\n                    </Fade>\r\n                </Accordion.Collapse>\r\n            </Accordion>\r\n            {/* </Card.Body> */}\r\n        </Card >\r\n    )\r\n}\r\n\r\nexport default WinePlate","import React, { PropTypes } from 'react';\r\nimport { components } from 'react-select';\r\n\r\nconst CustomOption = ({ children, ...props }) => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const { onMouseMove, onMouseOver, ...rest } = props.innerProps;\r\n  const newProps = { ...props, innerProps: rest };\r\n\r\n  return (\r\n    <components.Option {...newProps} className=\"custom-option\">\r\n      {children}\r\n    </components.Option>\r\n  );\r\n};\r\n\r\nexport default CustomOption;","import React from 'react';\r\nimport VirtualList from 'react-tiny-virtual-list';\r\n\r\nconst DefaultItemHeight = 40;\r\n\r\nexport default class CustomMenuList extends React.Component {\r\n\r\n  renderItem = (props) => {\r\n    const { children } = this.props;\r\n    if (Array.isArray(children)) {\r\n      return (\r\n        <li style={props.style} key={props.index}>\r\n          {children[props.index]}\r\n        </li>\r\n      );\r\n    }\r\n    return (\r\n      <li\r\n        key={props.index}\r\n        className=\"react-virtualized-menu-placeholder\"\r\n      >\r\n        {children.props.children}\r\n      </li>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { options, children, maxHeight, getValue } = this.props;\r\n\r\n    const [value] = getValue();\r\n    // const initialOffset   = options.indexOf(value) * DefaultItemHeight;\r\n    const initialOffset = 0;\r\n    const childrenOptions = React.Children.toArray(children);\r\n    const wrapperHeight = maxHeight < childrenOptions.length * DefaultItemHeight ?\r\n      maxHeight : childrenOptions.length * DefaultItemHeight;\r\n\r\n    return (\r\n      <span className=\"react-virtualized-list-wrapper\">\r\n        <VirtualList\r\n          width=\"100%\"\r\n          height={wrapperHeight + 6}\r\n          scrollOffset={initialOffset}\r\n          itemCount={childrenOptions.length}\r\n          itemSize={DefaultItemHeight}\r\n          renderItem={this.renderItem}\r\n        />\r\n      </span>\r\n    );\r\n  }\r\n}","// import './App.scss';\r\nimport { Card, Button, Fade, ButtonGroup, Form, Alert, InputGroup, FormControl, Accordion } from 'react-bootstrap'\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport WinePlate from './WinePlate';\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport * as Icon from 'react-bootstrap-icons';\r\n// import TagSearch from './components/TagSearch';\r\nimport { createFilter } from 'react-select';\r\nimport CreatableSelect from 'react-select/creatable'\r\n// import { FixedSizeList as List } from \"react-window\";\r\nimport CustomOption from './CustomComponent';\r\nimport CustomMenuList from './CustomMenuList';\r\nimport CustomMultiValue from './CustomMultiValue';\r\n\r\nconst courses = [\r\n  \"appetizer\",\r\n  \"main\",\r\n  \"dessert\"\r\n]\r\n\r\nconst types = {\r\n  'red': '#731624',\r\n  'white': '#fadb7d',\r\n  'sparkling': '#305432',\r\n  'rose': '#e0c8df',\r\n  'desert': '#adbdd9'\r\n}\r\n\r\nconst pairs = ['grilled food', 'pork', 'mutton, lamb', 'beef', 'savoury snacks',\r\n  'casseroles', 'chicken, turkey', 'lean fish',\r\n  'salads, vegetarian food', 'pasta and pizza', 'party wine',\r\n  'oriental food', 'buffet', 'strong cheeses', 'game', 'fatty fish',\r\n  'mild cheeses', 'spicy and meaty sausages', 'sushi',\r\n  'mild sausages', 'tapas and antipasti', 'berries and fruits',\r\n  'hot food', 'seafood', 'blini', 'sweet desserts',\r\n  'clams, mussels, scallops and oysters', 'chocolate desserts',\r\n  'mushrooms', 'soups', 'liver', 'game birds']\r\n\r\nfunction Body({ isMobile, screenWidth }) {\r\n  const [meal, setMeal] = useState('');\r\n  const [pair, setPair] = useState('');\r\n  const [recipe, setRecipe] = useState({});\r\n  const [wining, setWining] = useState(false);\r\n  const [allWines, setAllWines] = useState([]);\r\n  const [displayedWines, setDisplayedWines] = useState([]);\r\n  const [searchErr, setSearchErr] = useState('');\r\n  const [priceRange, setPriceRange] = useState('$$');\r\n  const [searchVisible, setSearchVisible] = useState(true);\r\n\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  const [phrases, setPhrases] = useState([]);\r\n  const [ings, setIngs] = useState([]);\r\n  const [tags, setTags] = useState([])\r\n\r\n  const [isMulti, setIsMulti] = useState(true);\r\n  const [inputText, setInputText] = useState('')\r\n\r\n  const wineMeRef = React.createRef();\r\n\r\n\r\n  const optionObject = (option, index, type) => {\r\n    return {\r\n      value: option,\r\n      label: option.replace(/\\b\\w/g, l => l.toUpperCase()),\r\n      type: type,\r\n      index: index\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    readFile('TAGS', (text) => {\r\n      let meals = text.split('\\n').filter(onlyUnique).map((e, i) => optionObject(e, i, 'meal'))\r\n      readFile('INGS', (text) => {\r\n        let ings = text.split('\\n').filter(onlyUnique).map((e, i) => optionObject(e, i, 'ingredient'))\r\n        setTags(meals.concat(ings))\r\n      })\r\n    })\r\n\r\n  }, [])\r\n\r\n  const priceIndex = (level) => {\r\n    return {\r\n      '$': 0,\r\n      '$$': 1,\r\n      '$$$': 2\r\n    }[level]\r\n  }\r\n\r\n  const handlePriceLevelChange = (level) => {\r\n    setPriceRange(level)\r\n    setDisplayedWines(allWines[priceIndex(level)])\r\n    // setWining(true)\r\n\r\n    // const IMAGES = allWines[priceIndex(level)].map(w => imageLink(w.link))\r\n    // Promise.all(IMAGES.map(image => image ? loadImage(image) : null))\r\n    //   .then(() => {\r\n    //     setDisplayedWines(allWines[priceIndex(level)])\r\n    //     setWining(false)\r\n    //   })\r\n    //   .catch(err => console.log(\"Failed to load images\", err))\r\n  }\r\n\r\n  const resetApp = () => {\r\n    setPair('');\r\n    setSearchVisible(true);\r\n    setPriceRange('$$');\r\n    setMeal('')\r\n    // document.getElementById(\r\n    //   'inlineFormInputGroup').value = ''\r\n  }\r\n\r\n  const loadWines = (data) => {\r\n    const wines = data.wines\r\n\r\n    if (data.recipe) {\r\n      setRecipe(data.recipe)\r\n    } else {\r\n      setRecipe({\r\n        title: selectedTags.map(m => m.label).join(', ')\r\n      })\r\n    }\r\n\r\n    if (wines.length == 3) {\r\n      setAllWines(\r\n        wines\r\n      )\r\n      setDisplayedWines(wines[priceIndex(priceRange)])\r\n    } else {\r\n      setDisplayedWines(wines)\r\n    }\r\n\r\n    const IMAGES = wines.flat().map(w => imageLink(w.link))\r\n    Promise.all(IMAGES.map(image => image ? loadImage(image) : null))\r\n      .then(() => {\r\n        setWining(false)\r\n        // data.recipe && setSearchVisible(false)\r\n        setSearchVisible(false)\r\n      })\r\n      .catch(err => console.log(\"Failed to load images\", err))\r\n  }\r\n\r\n  const imageLink = (link) => {\r\n    let productNumber = link.split('/')[5]\r\n    let productName = link.split('/')[6]\r\n    return `https://images.alko.fi/images/cs_srgb,f_auto,t_products/cdn/${productNumber}/${productName}.jpg`\r\n  }\r\n\r\n  function isLink(text) {\r\n    var expression = /[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi;\r\n    var regex = new RegExp(expression)\r\n\r\n    if (text.match(regex)) {\r\n      return true\r\n    } else\r\n      return false\r\n  }\r\n\r\n  const loadImage = image => {\r\n    return new Promise((resolve, reject) => {\r\n      const loadImg = new Image()\r\n      loadImg.src = image\r\n      // wait 2 seconds to simulate loading time\r\n      loadImg.onload = () =>\r\n        setTimeout(() => {\r\n          resolve(image)\r\n        }, 2000)\r\n\r\n      loadImg.onerror = err => reject(err)\r\n    })\r\n  }\r\n\r\n  function onlyUnique(value, index, self) {\r\n    return self.indexOf(value) === index;\r\n  }\r\n\r\n  function readFile(file, cb) {\r\n    fetch(`/Roznavene-project-demo/data/${file}.txt`)\r\n      .then(response => response.text())\r\n      .then(cb)\r\n  }\r\n\r\n  function WineDisplay() {\r\n    return (\r\n      <div\r\n        className=\"no-scrollbar\"\r\n        id=\"wine-display\"\r\n        style={{ width: '100%' }}>\r\n        {\r\n          displayedWines ? displayedWines.map((wine, i) =>\r\n            <div key={`wine_display_${i}`} style={{\r\n              width: '100%',\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'start',\r\n              paddingBottom: i == displayedWines.length - 1 ? '' : '10px'\r\n            }}>\r\n              {WinePlate(wine)}\r\n            </div>\r\n          ) : <span>No recommendations in this price range.</span>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // const winelistHeight = () => {\r\n  //   if (wining)\r\n  //     return '0px'\r\n  //   else if (pair) {\r\n  //     return isMobile ? `calc(100vh - ${80 + 80 + 2 * 16 + 67 + 50}px)` : '500px'\r\n  //   }\r\n  //   else return '0px'\r\n  //   // (pair && !wining && !searchErr) ? isMobile ? `calc(100vh - ${80 + 80 + 2 * 16 + 67 + 50}px)` : '500px' : '0px'\r\n  // }\r\n\r\n  const wineMeEnabled = () => {\r\n    return !!selectedTags.length || (!!inputText && isLink(inputText))\r\n  }\r\n\r\n  const handleWineMe = (payload) => {\r\n    setWining(true)\r\n    var data, endpoint;\r\n\r\n    if (isLink(payload[0].value)) {\r\n      let link = payload[0].value\r\n      setSelectedTags([{ value: link, label: link }])\r\n      setPair(link)\r\n      data = { link: link }\r\n      endpoint = 'link2wine'\r\n    } else {\r\n      let tags = payload.map(p => p.value)\r\n      setPair(tags)\r\n      data = { tags: tags }\r\n      endpoint = 'tags2wine'\r\n    }\r\n\r\n    const options = {\r\n      method: 'POST',\r\n      url: `https://pocketsomm.dev/api/v1/${endpoint}`,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      data: data\r\n    };\r\n\r\n    axios.request(options).then(function (response) {\r\n      setSearchErr(false)\r\n      // console.log(response.data)\r\n      loadWines(response.data)\r\n    }).catch(function (error) {\r\n      setSearchErr(\r\n        error.message === 'Request failed with status code 404' ?\r\n          \"\" : error.message\r\n      )\r\n      if (error.response) {\r\n        console.log(error.response.data.detail)\r\n        loadWines(error.response.data.detail)\r\n      } else {\r\n        setWining(false)\r\n      }\r\n    });\r\n\r\n    // const wines = rows.filter(e => e.pair && e.pair.toUpperCase() === meal.toUpperCase())\r\n    // setDisplayedWines(\r\n    //   wines\r\n    // )\r\n\r\n    // if (wines.length == 0)\r\n    //   setTimeout(\r\n    //     function () {\r\n    //       if (wines.length == 0)\r\n    //         setSearchErr(`\"${meal}\" is not a supported dish.\\n Try searching \"${pairs[Math.floor(Math.random() * pairs.length)]}\" instead`)\r\n    //       else\r\n    //         setSearchErr(false)\r\n    //       setWining(false)\r\n    //     },\r\n    //     1000\r\n    //   )\r\n    // else {\r\n    //   setSearchErr(false)\r\n    //   const IMAGES = wines.map(w => imageLink(w.link))\r\n\r\n    //   Promise.all(IMAGES.map(image => image ? loadImage(image) : null))\r\n    //     .then(() => {\r\n    //       setWining(false)\r\n    //     })\r\n    //     .catch(err => console.log(\"Failed to load images\", err))\r\n    // }\r\n  }\r\n\r\n  const handleInputChange = (input) => {\r\n    setInputText(input)\r\n    let newTags = tags.sort((a, b) => {\r\n      let a_i = a.value.indexOf(input.toLowerCase())\r\n      let b_i = b.value.indexOf(input.toLowerCase())\r\n      if (a_i == b_i) {\r\n        return a.index - b.index\r\n      } else {\r\n        return a_i - b_i\r\n      }\r\n    })\r\n    setTags(newTags)\r\n  }\r\n\r\n  const toLinkMode = (input) => {\r\n    setSelectedTags(\r\n      (!Array.isArray(input) && input) || input[input.length - 1]\r\n    )\r\n    setIsMulti(false)\r\n    handleWineMe(input)\r\n  }\r\n\r\n  const toTagMode = (input) => {\r\n    setSelectedTags(input)\r\n    setIsMulti(true)\r\n  }\r\n\r\n  const handleTagChange = (tags, action) => {\r\n    // console.log(tags, action)\r\n    if (!tags || !tags.length) {\r\n      setSelectedTags([])\r\n      setIsMulti(true)\r\n      return\r\n    }\r\n\r\n    let isObject = !Array.isArray(tags)\r\n\r\n    if ((isObject && isLink(tags.value)) || (isLink(tags[tags.length - 1].value))) {\r\n      toLinkMode(tags)\r\n    } else {\r\n      toTagMode(tags)\r\n    }\r\n  }\r\n\r\n  const inputWidth = () => {\r\n    if (isMobile) {\r\n      // border + \r\n      return (screenWidth - 4) * 0.95 - 10 - 36 - 16\r\n    } else {\r\n      return 313.39\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ height: '100%', width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n\r\n      <div id=\"body-header\" style={{ minHeight: `${searchErr ? '88' : '68'}px` }}>\r\n        <div id=\"body-query\" style={{ minHeight: '68px', width: isMobile ? '95%' : '80%', margin: 'auto', textAlign: 'start' }}>\r\n          {/* <Fade in={!recipe['title'] || wining}> */}\r\n          <Form.Label\r\n            style={{\r\n              textAlign: 'start',\r\n              fontSize: '14px',\r\n              marginBottom: '0px',\r\n              paddingLeft: '6px'\r\n            }}>\r\n            WHAT ARE YOU EATING?\r\n          </Form.Label>\r\n          {/* </Fade> */}\r\n          {/* <Form.Label style={{ width: '79%', textAlign: 'start', fontSize: recipe['title'] ? '16px' : '14px' }}>\r\n                {recipe['title'] ? <b>{recipe['title'].toUpperCase()}</b> : 'WHAT ARE YOU EATING?'}\r\n              </Form.Label> */}\r\n\r\n          <Fade in={!searchVisible}>\r\n            <div style={{ display: !searchVisible ? 'flex' : 'none', height: '43px', alignItems: 'center' }}>\r\n              <Form.Label style={{\r\n                textAlign: 'start',\r\n                fontSize: '16px',\r\n                width: 'calc(100% - 25px)',\r\n                whiteSpace: 'nowrap',\r\n                overflow: 'hidden',\r\n                textOverflow: 'ellipsis',\r\n                float: 'left'\r\n              }}>\r\n                <b>{recipe['title'] ? recipe['title'].toUpperCase() : ''}</b>\r\n              </Form.Label>\r\n              <Icon.X\r\n                className=\"clickable nodrag\"\r\n                style={{ marginLeft: '5px' }}\r\n                size={20}\r\n                color='gray'\r\n                onClick={e => { setSearchVisible(true) }} />\r\n            </div>\r\n          </Fade>\r\n\r\n          <Fade in={searchVisible}>\r\n            <div style={{ display: searchVisible ? '' : 'none', padding: '5px', paddingTop: '0px', zIndex: 2, position: 'relative' }}>\r\n              <CreatableSelect\r\n                // isValidNewOption={input=>isLink(inputText)}\r\n                formatCreateLabel={input => {\r\n                  if (isLink(input))\r\n                    return 'Use recipe link'\r\n                  else return `Create \"${inputText}\"`\r\n                }}\r\n                // menuIsOpen={inputText && !isLink(inputText)}\r\n                value={selectedTags}\r\n                onChange={handleTagChange}\r\n                onInputChange={handleInputChange}\r\n                captureMenuScroll={false}\r\n                classNamePrefix={`clickable custom-select`}\r\n                filterOption={createFilter({ ignoreAccents: false })}\r\n                openMenuOnClick={false}\r\n                isMulti={isMulti}\r\n                placeholder=\"search meal or paste recipe link\"\r\n                styles={{\r\n                  input: (css) => {\r\n                    return ({\r\n                      ...css,\r\n                      flex: \"1 1 auto\",\r\n                      /* expand the Input Component child div */\r\n                      \"> div\": {\r\n                        width: '100% !important'\r\n                      },\r\n                      /* expand the Input Component input */\r\n                      input: {\r\n                        width: (!selectedTags || !selectedTags.length) ? `${inputWidth()}px !important` : '',\r\n                        textAlign: \"left !important\",\r\n                      }\r\n                    })\r\n                  },\r\n                  // multiValue: (styles, { data }) => {\r\n                  //   const color = data.type === 'meal' ? '#425180' : '#714580'\r\n                  //   const bgColor = data.type === 'meal' ? '#e9ebf5' : '#f2e9f5'\r\n                  //   return {\r\n                  //     ...styles,\r\n                  //     outline: '1px solid',\r\n                  //     outlineColor: color,\r\n                  //     backgroundColor: bgColor\r\n                  //   }\r\n                  // }\r\n                }}\r\n                components={{\r\n                  Option: CustomOption,\r\n                  MenuList: CustomMenuList,\r\n                  // MultiValue: CustomMultiValue\r\n                }}\r\n                options={tags}\r\n                isClearable\r\n              />\r\n            </div>\r\n            {/* <InputGroup style={{\r\n                    display: searchVisible ? '' : 'none',\r\n                    margin: 'auto'\r\n                  }} >\r\n                    <InputGroup.Text>🍽️</InputGroup.Text>\r\n                    <FormControl onChange={e => setMeal(e.target.value)} id=\"inlineFormInputGroup\" placeholder=\"enter recipe link\" />\r\n                  </InputGroup> */}\r\n          </Fade>\r\n          {\r\n            (isLink(meal) && meal) ? <div style={{ width: '80%', margin: 'auto' }}>\r\n              <span style={{ color: 'darkred', float: 'left', fontSize: '12px', margin: '2px' }}>\r\n                * corked link\r\n              </span>\r\n            </div> : null\r\n          }\r\n          <div id=\"error-message\" style={{ height: '24px', display: !!searchErr && !wining ? '' : 'none' }}>\r\n            <span style={{ fontSize: '13px', color: 'red' }}>{searchErr}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Fade id=\"body-winelist-$-levels\" in={!wining && !!pair && !searchErr}>\r\n        <div style={{\r\n          display: !wining && !!pair && !searchErr ? 'flex' : 'none',\r\n          height: '30px',\r\n          paddingBottom: '10px',\r\n          alignItems: 'start',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <ButtonGroup aria-label=\"Basic example\">\r\n            {\r\n              [\"$\", \"$$\", \"$$$\"].map(level =>\r\n                <Button\r\n                  key={level}\r\n                  onClick={e => {\r\n                    handlePriceLevelChange(level)\r\n                  }}\r\n                  size=\"sm\"\r\n                  variant=\"outline-danger\"\r\n                  active={priceRange == level}\r\n                  style={{\r\n                    padding: '0px',\r\n                    width: '45px',\r\n                    height: '20px',\r\n                    fontSize: '14px',\r\n                    lineHeight: '20px'\r\n                  }}\r\n                >{level}\r\n                </Button>\r\n              )\r\n            }\r\n          </ButtonGroup>\r\n        </div>\r\n      </Fade>\r\n      <div id=\"body-winelist\"\r\n        className={`animated winelist ${isMobile ? '' : 'hiddenScroll'}`}\r\n        style={{\r\n          width: '100%',\r\n          // height: winelistHeight(),\r\n          selfAlign: 'start',\r\n          overflowY: 'auto',\r\n          overflowX: 'hidden',\r\n          maxHeight: displayedWines.length && !wining ? `${4 * 10 + 4 * 110 - 2}px` : '0px'\r\n        }}>\r\n        {\r\n          ['$', '$$', '$$$'].map(e =>\r\n            <Fade key={`${e}_display`} in={!wining && priceRange === e}>\r\n              <div style={{ display: !wining && priceRange === e ? '' : 'none' }}>\r\n                <WineDisplay />\r\n              </div>\r\n            </Fade>\r\n          )\r\n        }\r\n      </div>\r\n\r\n\r\n      {/* <div style={{ margin: 'auto' }}></div> */}\r\n      <div id=\"body-footer\" style={{\r\n        width: '100%',\r\n        height: '60px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'end',\r\n        backgroundColor: 'white',\r\n        padding: '5px',\r\n        paddingTop: '10px'\r\n      }}>\r\n        <Button\r\n          type=\"submit\"\r\n          disabled={!wineMeEnabled()}\r\n          onClick={e => { handleWineMe(selectedTags) }}\r\n          variant=\"danger\"\r\n          ref={wineMeRef}\r\n          style={{ width: '95%', height: '45px', zIndex: 0 }}>\r\n          <span>\r\n            {\r\n              wining ? <div>\r\n                <div className=\"rotate-center\" style={{ display: 'inline-flex', marginRight: '8px' }}>🍷</div><span>PAIRING...</span>\r\n              </div>\r\n                : 'WINE ME'\r\n            }\r\n          </span>\r\n          {/* {\r\n                wining ? <div>\r\n                  <span>🍷</span>\r\n                  <span>PAIRING...</span>\r\n                </div> : <span>WINE ME</span>\r\n              } */}\r\n          {/* <Loadable loading={wining} component={<span>WINE ME </span>} /> */}\r\n        </Button>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Body;\r\n","import React from 'react';\r\nimport { BsXLg } from 'react-icons/bs';\r\n\r\nexport default function Tag(props) {\r\n    const [declined, setDeclined] = React.useState(false)\r\n\r\n    return (\r\n        <div className='tag'>\r\n            <span style={{\r\n                textDecoration: declined ? 'line-through' : '',\r\n                color: declined ? 'darkred' : ''\r\n            }}>\r\n                {props.content}\r\n            </span>\r\n            {\r\n                props.declinable ? <BsXLg className=\"clickable\" onClick={e => setDeclined(!declined)} /> : null\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loadable = ({ loading, component, className, style = {\r\n    // marginTop: '100px',\r\n    // width: '50px',\r\n    // height: '50px'\r\n} }) => (\r\n    <div className=\"Loadable\">\r\n        <div style={{ display: loading ? 'none' : '' }}>\r\n            {component}\r\n        </div>\r\n        <div className={className} style={{ display: loading ? 'flex' : 'none', justifyContent: 'center' }}>\r\n            <Spinner\r\n                style={{\r\n                    ...style,\r\n                    display: loading ? '' : 'none'\r\n                }}\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n            />\r\n        </div>\r\n    </div>\r\n);\r\n\r\nLoadable.defaultProps = {\r\n    style: {\r\n        marginTop: '0px',\r\n        width: '10px',\r\n        height: '10px'\r\n    }\r\n}\r\n\r\nexport default Loadable;","import './PairingTool.scss';\r\nimport React from 'react';\r\nimport { Form, Modal, Button, ListGroup, Toast, Offcanvas, Badge, Card, Spinner } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { BsXLg } from \"react-icons/bs\";\r\nimport Tag from './Tag';\r\nimport Loadable from '../Loadable';\r\nimport { ChevronCompactLeft, ChevronCompactRight } from 'react-bootstrap-icons';\r\n\r\n\r\nconst emptyRecipe = {\r\n    steps: '',\r\n    ingredients: [],\r\n    regions: [],\r\n    labels: [],\r\n    pairingText: ''\r\n}\r\n\r\nclass PairingTool extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: true,\r\n            updating: false,\r\n            recipeHistory: [],\r\n            recipeIndex: -1,\r\n            show: false,\r\n            toastShow: false,\r\n            showHistory: false,\r\n            toastContent: '',\r\n            textBoxContent: ''\r\n        }\r\n\r\n        this.pairingChanged = this.pairingChanged.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.nextRecipe()\r\n    }\r\n\r\n    handleClose = () => this.setState({ show: false })\r\n    handleShow = () => this.setState({ show: true })\r\n    handleCloseHistory = () => this.setState({ showHistory: false })\r\n    handleShowHistory = () => this.setState({ showHistory: true })\r\n\r\n    goToRecipe = (index) => {\r\n        this.setState({\r\n            recipeIndex: index,\r\n            textBoxContent: this.state.recipeHistory[index].pairingText\r\n        })\r\n    }\r\n\r\n    handleNextClick = () => {\r\n        if (this.state.loading)\r\n            return\r\n\r\n        let index = this.state.recipeIndex\r\n        if (index < this.state.recipeHistory.length - 1) {\r\n            this.goToRecipe(index + 1)\r\n        } else {\r\n            this.nextRecipe()\r\n        }\r\n    }\r\n\r\n    handlePrevClick = () => {\r\n        if (this.state.loading)\r\n            return\r\n\r\n        let index = this.state.recipeIndex\r\n        index > 0 && this.goToRecipe(index - 1)\r\n    }\r\n\r\n    handleCreateToast = (title) => {\r\n        this.setState({ toast: title })\r\n    }\r\n\r\n    isUrl(text) {\r\n        var expression = /[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi;\r\n        var regex = new RegExp(expression)\r\n\r\n        if (text.match(regex)) {\r\n            return true\r\n        } else\r\n            return false\r\n    }\r\n\r\n    submitRecipe() {\r\n        const title = this.currentRecipe().title\r\n\r\n        let history = this.state.recipeHistory\r\n        history[this.state.recipeIndex].paired = this.listOfUrls(this.state.textBoxContent).length\r\n        history[this.state.recipeIndex].pairingText = this.state.textBoxContent\r\n        let isUpdate = this.state.recipeIndex + 1 !== this.state.recipeHistory.length\r\n\r\n        const options = {\r\n            method: 'POST',\r\n            url: 'https://pocketsomm.dev/api/v1/recipePairing',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            data: {\r\n                wines: this.listOfUrls(this.state.textBoxContent).map(l => ({ link: l, info: '' })),\r\n                recipeId: this.currentRecipe().id,\r\n                recipeTitle: this.currentRecipe().title\r\n            }\r\n        };\r\n\r\n        this.setState({ updating: true })\r\n\r\n        // FOR TESTING\r\n        // this.setState({\r\n        //     toastShow: true,\r\n        //     toastContent: `Pairing of ${title} successful.`,\r\n        //     recipeHistory: history\r\n        // })\r\n\r\n        // this.setState({ updating: false })\r\n\r\n        axios.request(options).then(res => {\r\n            this.setState({\r\n                toastShow: true,\r\n                toastContent: `Pairing of ${title} successful.`,\r\n                recipeHistory: history,\r\n                updating: false\r\n            })\r\n        }).catch(function (error) {\r\n            console.error(error);\r\n        });\r\n    }\r\n\r\n    currentRecipe = () => {\r\n        return this.state.recipeHistory[this.state.recipeIndex] ?\r\n            this.state.recipeHistory[this.state.recipeIndex] :\r\n            emptyRecipe\r\n    }\r\n\r\n    nextRecipe() {\r\n        this.setState({ loading: true })\r\n        axios.get('https://pocketsomm.dev/api/v1/randomRecipe').then(res => {\r\n            this.setState(oldState => ({\r\n                loading: false,\r\n                recipeHistory: [...oldState.recipeHistory, {\r\n                    id: res.data.Recipe_id,\r\n                    title: res.data.Recipe_title,\r\n                    labels: [],\r\n                    regions: Object.entries(res.data.Cuisine)\r\n                        .sort(([, a], [, b]) => b - a).slice(0, 3).map(e => `${e[0]} ${Math.round(e[1] * 100)}%`),\r\n                    labels: res.data.Category ? res.data.Category.map(c => c.replace(/(^\\w{1})|(\\s+\\w{1})/g, letter => letter.toUpperCase())) : [],\r\n                    ingredients: res.data.Ingredients.slice(2, -2).split(\"', '\"),\r\n                    steps: res.data.Steps,\r\n                    pairingText: '',\r\n                    paired: 0\r\n                }],\r\n                recipeIndex: oldState.recipeIndex + 1,\r\n                textBoxContent: ''\r\n            }))\r\n        })\r\n    }\r\n\r\n    handleTextChange = text => {\r\n        this.setState({ textBoxContent: text })\r\n\r\n        // let recipeHistory = this.state.recipeHistory\r\n        // recipeHistory[this.state.recipeIndex].pairingText = text\r\n\r\n        // this.setState({ recipeHistory: recipeHistory })\r\n    }\r\n\r\n    listOfUrls = (text) => {\r\n        return text.split(/\\r?\\n/).filter(l => this.isUrl(l))\r\n    }\r\n\r\n    pairingChanged = () => {\r\n        return JSON.stringify(this.listOfUrls(this.state.textBoxContent)) !== JSON.stringify(this.listOfUrls(this.currentRecipe().pairingText))\r\n    }\r\n\r\n    submitButtonText = () => {\r\n        if (!this.currentRecipe().pairingText) {\r\n            return `Submit Pairings (${this.listOfUrls(this.state.textBoxContent).length})`\r\n        } else if (\r\n            !this.pairingChanged()\r\n        ) {\r\n            return 'Submitted'\r\n        } else {\r\n            return 'Update Pairings'\r\n        }\r\n\r\n        // return this.currentRecipe().paired ?\r\n        //     'Update Pairings' :\r\n        //     `Submit Pairings (${this.listOfUrls(this.state.textBoxContent).length})`\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='nodrag' style={{ display: 'flex', height: 'calc(100vh - 80px)', width: '100%', backgroundColor: '#f0f0f0' }}>\r\n                <div style={{ width: '100%', height: '100%', position: 'relative' }}>\r\n                    <Loadable style={{ marginTop: '300px' }} loading={this.state.loading} component={\r\n                        <div id=\"page-body\">\r\n                            <Modal scrollable centered size=\"lg\" show={this.state.show} onHide={this.handleClose}>\r\n                                <Modal.Header>\r\n                                    <Modal.Title>{this.currentRecipe().title}</Modal.Title>\r\n                                </Modal.Header>\r\n                                <Modal.Body>\r\n                                    <ListGroup variant=\"flush\">\r\n                                        {this.currentRecipe().steps.split(/\\| [0-9]+\\./).splice(1).map((step, i) =>\r\n                                            <ListGroup.Item>\r\n                                                <span style={{ display: 'block', marginBottom: '10px' }}>\r\n                                                    <b>{i + 1}.</b> {step}\r\n                                                </span>\r\n                                            </ListGroup.Item>\r\n                                        )}\r\n                                    </ListGroup>\r\n                                </Modal.Body>\r\n                                <Modal.Footer>\r\n                                    <Button variant=\"danger\" onClick={this.handleClose}>\r\n                                        Close\r\n                                    </Button>\r\n                                </Modal.Footer>\r\n                            </Modal>\r\n\r\n                            <Toast\r\n                                onClose={() => this.setState({ toastShow: false })}\r\n                                delay={8000}\r\n                                animation\r\n                                autohide\r\n                                show={this.state.toastShow}\r\n                                style={{\r\n                                    position: 'absolute', right: '50px', top: '50px'\r\n                                }}\r\n                            >\r\n                                <Toast.Header>\r\n                                    <strong className=\"me-auto\">PocketSomm</strong>\r\n                                </Toast.Header>\r\n                                <Toast.Body>{this.state.toastContent}</Toast.Body>\r\n                            </Toast>\r\n\r\n                            <Offcanvas placement=\"end\" show={this.state.showHistory} onHide={this.handleCloseHistory}>\r\n                                <Offcanvas.Header closeButton>\r\n                                    <Offcanvas.Title>Session History</Offcanvas.Title>\r\n                                </Offcanvas.Header>\r\n                                <Offcanvas.Body>\r\n                                    <ListGroup variant=\"flush\">\r\n                                        {\r\n                                            this.state.recipeHistory.map((r, i) =>\r\n                                                <ListGroup.Item onClick={e => this.goToRecipe(i)} action>\r\n                                                    {\r\n                                                        this.state.recipeIndex == i ? <strong>>{r.title}</strong> : <span>{r.title}</span>\r\n                                                    }\r\n                                                    {\r\n                                                        r.paired ? <Badge style={{ float: 'right' }} bg=\"success\">\r\n                                                            {r.paired} Pairings\r\n                                                        </Badge> : <Badge style={{ float: 'right' }} bg=\"secondary\">No Pairings</Badge>\r\n                                                    }\r\n                                                </ListGroup.Item>\r\n                                            )}\r\n                                    </ListGroup>\r\n                                </Offcanvas.Body>\r\n                            </Offcanvas>\r\n\r\n\r\n\r\n                            <div id=\"recipe-window\" style={{ position: 'relative', width: '100%', height: 'calc((100vh - 80px))', paddingLeft: '60px', paddingRight: '60px' }}>\r\n                                <Button variant=\"link\" onClick={this.handleShowHistory} style={{ position: 'absolute', top: '10px', right: '10px' }}>\r\n                                    Session History\r\n                                </Button>\r\n\r\n                                <div style={{ width: '100%', height: '180px', paddingTop: '10px' }}>\r\n                                    <h4>{this.currentRecipe().title}</h4>\r\n                                    <button class=\"btn btn-link\" onClick={this.handleShow}>View steps</button>\r\n                                    <div style={{ width: '100%', textAlign: 'start', height: '32px', display: 'flex', alignItems: 'center' }}>\r\n                                        Predicted Regions: {this.currentRecipe().regions.length ? this.currentRecipe().regions.map(r =>\r\n                                            <Tag content={`${r}`} declinable={true} />\r\n                                        ) : <span style={{ marginLeft: '30px', fontSize: '14px', color: 'darkgray' }}>None</span>}\r\n                                    </div>\r\n                                    <div style={{ width: '100%', textAlign: 'start', height: '32px', display: 'flex', alignItems: 'center' }}>\r\n                                        Predicted Categories: {this.currentRecipe().labels.length ? this.currentRecipe().labels.map(l =>\r\n                                            <Tag content={`${l} `} declinable={true} />\r\n                                        ) : <span style={{ marginLeft: '30px', fontSize: '14px', color: 'darkgray' }}>None</span>}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <Card style={{ backgroundColor: '#f5f5f5', padding: '30px', width: '500px', textAlign: 'start', float: 'left', height: 'calc(100% - 290px)' }}>\r\n                                    {/* <Card style={{padding:'20px'}}> */}\r\n                                    <Card.Title>Ingredient List</Card.Title>\r\n                                    <Card.Body style={{ overflowY: 'auto' }}>\r\n                                        {this.currentRecipe().ingredients.map(i => <span style={{ display: 'block' }}>• {i}</span>)}\r\n                                    </Card.Body>\r\n                                    {/* </Card> */}\r\n                                </Card>\r\n\r\n                                <div style={{ width: 'calc(100% - 500px)', height: 'calc(100% - 290px)', float: 'left', position: 'relative' }}>\r\n                                    <div style={{ width: '650px', position: 'absolute', bottom: '0px', right: '0px' }}>\r\n                                        <button style={{ float: 'right', marginBottom: '10px' }} disabled={\r\n                                            !this.state.textBoxContent ||\r\n                                            !this.isUrl(this.state.textBoxContent.split('\\n')[0]) ||\r\n                                            !this.pairingChanged()\r\n                                        } type=\"button\" class=\"btn btn-danger\" onClick={e => this.submitRecipe()}>\r\n                                            {\r\n                                                this.state.updating ? <Spinner animation=\"border\" size='sm' style={{ marginRight: '5px' }} /> : null\r\n                                            }\r\n                                            {this.submitButtonText()}\r\n                                        </button>\r\n                                        <Form.Control\r\n                                            onChange={e => this.handleTextChange(e.target.value)}\r\n                                            value={this.state.textBoxContent}\r\n                                            as=\"textarea\"\r\n                                            placeholder=\"Paste wine links here (one per row)\"\r\n                                            style={{ float: 'right', height: '190px', width: '650px' }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* <div id=\"pairing-window\" style={{ width: 'calc((100vh - 80px)*0.35)', height: '30%' }}>\r\n                                <Form.Control\r\n                                    onChange={e => this.handleTextChange(e.target.value)}\r\n                                    value={this.currentRecipe().pairingText}\r\n                                    as=\"textarea\"\r\n                                    placeholder=\"Paste wine links here (one per row)\"\r\n                                    style={{ height: '190px', width: '650px', marginLeft: '40px', marginTop: '20px' }}\r\n                                />\r\n                            </div> */}\r\n                        </div>\r\n                    } />\r\n                </div>\r\n\r\n                <div style={{ position: 'absolute', width: '100%', bottom: '25px', fontSize: '30px', display: 'flex', justifyContent: 'center' }}>\r\n                    <ChevronCompactLeft\r\n                        style={{ opacity: this.state.recipeIndex && !this.state.loading ? '' : '20%' }}\r\n                        onClick={this.handlePrevClick}\r\n                        className={this.state.recipeIndex && !this.state.loading ? 'clickable' : ''}\r\n                        size={50} />\r\n                    <div style={{ width: '100px' }}>\r\n                        <span>{this.state.recipeIndex + 1}/{this.state.recipeHistory.length}</span>\r\n                    </div>\r\n                    <ChevronCompactRight\r\n                        style={{ opacity: !this.state.loading ? '' : '20%' }}\r\n                        onClick={this.handleNextClick}\r\n                        className={!this.state.loading ? 'clickable' : ''}\r\n                        size={50} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PairingTool;","import './App.scss';\nimport React, { useEffect, useState } from 'react';\nimport Body from './components/Body';\nimport { Card } from 'react-bootstrap';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route\n} from \"react-router-dom\";\nimport PairingTool from './components/PairingTool/PairingTool';\n\nconst MAIN_COLOR = '#e7154e'\nconst SECONDARY_COLOR = '#fce3ee'\nexport const MAIN_COLOR_DEP = '#80183b'\n\nfunction App() {\n  const [width, setWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    console.log(window.location)\n\n    window.addEventListener('resize', handleWindowSizeChange);\n    return () => {\n      window.removeEventListener('resize', handleWindowSizeChange);\n    }\n  }, [])\n\n  let isMobile = (width < 768);\n  let isTablet = (width >= 768 && width < 1024)\n  let vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty('--vh', `${vh}px`);\n\n  function handleWindowSizeChange() {\n    setWidth(window.innerWidth);\n  }\n\n  let mobileStyle = {\n    width: '100%',\n    height: 'calc(var(--vh, 1vh) * 100 - 100px)',\n    borderWidth: '0px',\n    padding: '2px'\n  }\n  let tabletStyle = {\n    width: '80%',\n    height: 'calc(var(--vh, 1vh) * 100 - 120px)',\n    borderWidth: '0px',\n    padding: '10px'\n  }\n  let desktopStyle = {\n    marginTop: '100px',\n    width: '500px',\n    padding: '10px'\n  }\n\n  const getDeviceStyle = () => {\n    if (isMobile)\n      return mobileStyle\n    if (isTablet)\n      return tabletStyle\n    return desktopStyle\n  }\n\n  return (\n    <div className=\"App\">\n      <div id=\"body-logo\"\n        style={{\n          // marginBottom: isMobile ? '20px' : '40px',\n          height: '80px',\n          backgroundColor: MAIN_COLOR_DEP,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n        onClick={e => { window.location.replace('/Roznavene-project-demo') }}\n      >\n        <img\n          style={{ objectFit: 'cover' }}\n          href=\"/Roznavene-project-demo\"\n          className=\"clickable nodrag\"\n          src=\"/Roznavene-project-demo/PocketSomm.LOGO.svg\"\n          width=\"200px\"\n          height=\"80px\">\n        </img>\n      </div>\n      <Router basename='/Roznavene-project-demo'>\n        <Routes>\n          <Route path=\"/\" element={\n            <Card\n              className=\"mainBody\"\n              style={{\n                marginTop: isMobile ? '20px' : '40px',\n                ...getDeviceStyle()\n              }}>\n              <Body isMobile={isMobile || isTablet} screenWidth={width} />\n            </Card>\n          } />\n\n          <Route path=\"/pairing\" element={\n            <PairingTool />\n          }>\n          </Route>\n        </Routes>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}