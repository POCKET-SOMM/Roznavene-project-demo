(this["webpackJsonppocket-somm"]=this["webpackJsonppocket-somm"]||[]).push([[0],{100:function(e,t,i){},101:function(e,t,i){},146:function(e,t,i){},148:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i.n(n),s=i(17),r=i.n(s),c=(i(100),i(2)),o=i(9),l=(i(101),i(159)),d=i(31),h=i(153),p=i(154),u=i(46),j=i.n(u),x=i(152),b=i(51),g=i(95),O=i(3),f=i(6),y=i(1),m=["children"],v=["onMouseMove","onMouseOver"],C=function(e){var t=e.children,i=Object(O.a)(e,m),n=i.innerProps,a=(n.onMouseMove,n.onMouseOver,Object(O.a)(n,v)),s=Object(c.a)(Object(c.a)({},i),{},{innerProps:a});return Object(y.jsx)(f.p.Option,Object(c.a)(Object(c.a)({},s),{},{className:"custom-option",children:t}))},w=i(25),S=i(26),k=i(40),I=i(39),T=i(91),M=function(e){Object(k.a)(i,e);var t=Object(I.a)(i);function i(){var e;Object(w.a)(this,i);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).renderItem=function(t){var i=e.props.children;return Array.isArray(i)?Object(y.jsx)("li",{style:t.style,children:i[t.index]},t.index):Object(y.jsx)("li",{className:"react-virtualized-menu-placeholder",children:i.props.children},t.index)},e}return Object(S.a)(i,[{key:"render",value:function(){var e=this.props,t=(e.options,e.children),i=e.maxHeight,n=(0,e.getValue)(),s=(Object(o.a)(n,1)[0],a.a.Children.toArray(t)),r=i<40*s.length?i:40*s.length;return Object(y.jsx)("span",{className:"react-virtualized-list-wrapper",children:Object(y.jsx)(T.a,{width:"100%",height:r+6,scrollOffset:0,itemCount:s.length,itemSize:40,renderItem:this.renderItem})})}}]),i}(a.a.Component),R=i(12),A=(i(144),i(165)),B=i(71),N=i(150),z=i(151),L=(i(145),"#80183b"),P="#ededed",H={bodied:"Bodied",tannic:"Tannic",sweet:"Sweet",acid:"Crisp"},G={bodied:"Light",tannic:"Smooth",sweet:"Dry",acid:"Soft"},U={Andorra:"AD","United Arab Emirates":"AE",Afghanistan:"AF","Antigua & Barbuda":"AG",Anguilla:"AI",Albania:"AL",Armenia:"AM",Angola:"AO",Argentina:"AR","American Samoa":"AS",Austria:"AT",Australia:"AU",Aruba:"AW","\xc5land Islands":"AX",Azerbaijan:"AZ","Bosnia & Herzegovina":"BA",Barbados:"BB",Bangladesh:"BD",Belgium:"BE","Burkina Faso":"BF",Bulgaria:"BG",Bahrain:"BH",Burundi:"BI",Benin:"BJ","St. Barth\xe9lemy":"BL",Bermuda:"BM",Brunei:"BN",Bolivia:"BO",Brazil:"BR",Bahamas:"BS",Bhutan:"BT","Bouvet Island":"BV",Botswana:"BW",Belarus:"BY",Belize:"BZ",Canada:"CA","Cocos (Keeling) Islands":"CC","Congo - Kinshasa":"CD","Central African Republic":"CF","Congo - Brazzaville":"CG",Switzerland:"CH","C\xf4te d\u2019Ivoire":"CI","Cook Islands":"CK",Chile:"CL",Cameroon:"CM",China:"CN",Colombia:"CO","Costa Rica":"CR",Cuba:"CU","Cape Verde":"CV","Cura\xe7ao":"CW","Christmas Island":"CX",Cyprus:"CY","Czech Republic":"CZ",Germany:"DE",Djibouti:"DJ",Denmark:"DK",Dominica:"DM","Dominican Republic":"DO",Algeria:"DZ",Ecuador:"EC",Estonia:"EE",Egypt:"EG",Eritrea:"ER",Spain:"ES",Ethiopia:"ET","European Union":"EU",Finland:"FI",Fiji:"FJ","Falkland Islands":"FK",Micronesia:"FM","Faroe Islands":"FO",France:"FR",Gabon:"GA","United Kingdom":"GB",England:"GB-ENG","Northern Ireland":"IR",Scotland:"CT",Wales:"LS",Shetland:"ET",Grenada:"GD",Georgia:"GE","French Guiana":"GF",Guernsey:"GG",Ghana:"GH",Gibraltar:"GI",Greenland:"GL",Gambia:"GM",Guinea:"GN",Guadeloupe:"GP","Equatorial Guinea":"GQ",Greece:"GR","So. Georgia & So. Sandwich Isl.":"GS",Guatemala:"GT",Guam:"GU","Guinea-Bissau":"GW",Guyana:"GY","Hong Kong (China)":"HK","Heard & McDonald Islands":"HM",Honduras:"HN",Croatia:"HR",Haiti:"HT",Hungary:"HU",Indonesia:"ID",Ireland:"IE",Israel:"IL","Isle of Man":"IM",India:"IN","British Indian Ocean Territory":"IO",Iraq:"IQ",Iran:"IR",Iceland:"IS",Italy:"IT",Jersey:"JE",Jamaica:"JM",Jordan:"JO",Japan:"JP",Kenya:"KE",Kyrgyzstan:"KG",Cambodia:"KH",Kiribati:"KI",Comoros:"KM","St. Kitts & Nevis":"KN","North Korea":"KP","South Korea":"KR",Kuwait:"KW","Cayman Islands":"KY",Kazakhstan:"KZ",Laos:"LA",Lebanon:"LB","St. Lucia":"LC",Pride:"BT",Liechtenstein:"LI","Sri Lanka":"LK",Liberia:"LR",Lesotho:"LS",Lithuania:"LT",Luxembourg:"LU",Latvia:"LV",Libya:"LY",Morocco:"MA",Monaco:"MC",Moldova:"MD",Montenegro:"ME","St. Martin":"MF",Madagascar:"MG","Marshall Islands":"MH",Macedonia:"MK",Mali:"ML","Myanmar (Burma)":"MM",Mongolia:"MN","Macau (China)":"MO","Northern Mariana Islands":"MP",Martinique:"MQ",Mauritania:"MR",Montserrat:"MS",Malta:"MT",Mauritius:"MU",Maldives:"MV",Malawi:"MW",Mexico:"MX",Malaysia:"MY",Mozambique:"MZ",Namibia:"NA","New Caledonia":"NC",Niger:"NE","Norfolk Island":"NF",Nigeria:"NG",Nicaragua:"NI",Netherlands:"NL",Norway:"NO",Nepal:"NP",Nauru:"NR",Niue:"NU","New Zealand":"NZ",Oman:"OM",Panama:"PA",Peru:"PE","French Polynesia":"PF","Papua New Guinea":"PG",Philippines:"PH",Pakistan:"PK",Poland:"PL","St. Pierre & Miquelon":"PM","Pitcairn Islands":"PN","Puerto Rico":"PR","Palestinian Territories":"PS",Portugal:"PT",Palau:"PW",Paraguay:"PY",Qatar:"QA","R\xe9union":"RE",Romania:"RO",Serbia:"RS",Russia:"RU",Rwanda:"RW","Saudi Arabia":"SA","Solomon Islands":"SB",Seychelles:"SC",Sudan:"SD",Sweden:"SE",Singapore:"SG","St. Helena":"SH",Slovenia:"SI","Svalbard & Jan Mayen":"SJ",Slovakia:"SK","Sierra Leone":"SL","San Marino":"SM",Senegal:"SN",Somalia:"SO",Suriname:"SR","South Sudan":"SS","S\xe3o Tom\xe9 & Pr\xedncipe":"ST","El Salvador":"SV","Sint Maarten":"SX",Syria:"SY",Swaziland:"SZ","Turks & Caicos Islands":"TC",Chad:"TD","French Southern Territories":"TF",Togo:"TG",Thailand:"TH",Tajikistan:"TJ",Tokelau:"TK","Timor-Leste":"TL",Turkmenistan:"TM",Tunisia:"TN",Tonga:"TO",Turkey:"TR","Trinidad & Tobago":"TT",Tuvalu:"TV",Taiwan:"TW",Tanzania:"TZ",Ukraine:"UA",Uganda:"UG","U.S. Outlying Islands":"UM","United States":"US",California:"CA",Uruguay:"UY",Uzbekistan:"UZ","Vatican City":"VA","St. Vincent & Grenadines":"VC",Venezuela:"VE","British Virgin Islands":"VG","U.S. Virgin Islands":"VI",Vietnam:"VN",Vanuatu:"VU","Wallis & Futuna":"WF",Samoa:"WS",Kosovo:"XK",Yemen:"YE",Mayotte:"YT","South Africa":"ZA",Zambia:"ZM",Zimbabwe:"ZW"};var E=function(e){var t=e.split("/")[5],i=e.split("/")[6];return"https://images.alko.fi/images/cs_srgb,f_auto,t_products/cdn/".concat(t,"/").concat(i,".jpg")},F=function(e){var t=D(e.region),i=t.indexOf(e.country);return i>-1&&t.splice(i,1),Object(y.jsxs)("span",{style:{fontSize:"12px"},children:[Object(y.jsx)(B.a,{countryCode:U[e.country].toLowerCase(),height:"15",style:{marginRight:"5px"}}),t.join(", ")," ",e.year?e.year:""]})},K=function(e){return Object.keys(H).map((function(t){return e[t]>=3?"".concat(H[t]):0==e[t]?"".concat(G[t]):""})).filter((function(e){return e})).join(" \u2022 ")},D=function(e){return e.match(RegExp(/(?:\'([^,]+)\'|"([^,]+)")/g)).map((function(e){return e.slice(1,-1)}))};var W=function(e){var t,i,a,s,r,c,l=Object(n.useState)(!1),h=Object(o.a)(l,2),p=h[0],u=h[1],j=Object(n.useState)(!1),x=Object(o.a)(j,2),b=x[0],g=x[1];return Object(y.jsxs)(A.a,{className:"clickable wineplate animated",onMouseEnter:function(e){u(!0)},onMouseLeave:function(e){u(!1)},border:p?"lightgray":"light",style:{backgroundColor:"#f7f7f7",borderColor:p?L:P,width:"95%",margin:"0px !important"},children:[Object(y.jsx)("div",{style:{borderRadius:"0px 3px 0px 5px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:b?L:P,color:b?"white":"black",width:"80px",height:"30px",position:"absolute",right:"0px",top:"0px",fontSize:"15px"},children:Object(y.jsx)("div",{children:Object(y.jsxs)("span",{style:{display:"block"},children:["\u20ac",e.price.toFixed(2)]})})}),Object(y.jsxs)("div",{onClick:function(e){g(!b)},id:"wine-basics",style:{height:"90px",padding:"10px",marginBottom:"10px"},children:[b?Object(y.jsx)(N.a,{color:L,style:{position:"absolute",top:"55px",right:"10px"}}):Object(y.jsx)(z.a,{color:L,style:{position:"absolute",top:"55px",right:"10px"}}),Object(y.jsx)("img",{className:"nodrag",style:{marginRight:"10px",float:"left",transform:p?"scale(1.1)":"",transition:"transform 0.3s",display:"inline-block"},src:E(e.link),height:"70px"}),Object(y.jsxs)("div",{style:{float:"left",position:"relative",width:"calc(100% - 146.66px)",display:"inline-block",height:"100%"},children:[Object(y.jsx)("span",{style:{display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"14px",textAlign:"start"},children:Object(y.jsx)("b",{className:"winelink",onClick:function(t){window.open(e.link,"_blank")},children:(r=e.name.replaceAll("-"," "),c=100,r.length>c?r.substr(0,c-1)+"...":r)})}),Object(y.jsxs)("div",{style:{color:"gray",left:"0px"},children:[Object(y.jsx)("span",{style:(t={display:"block",textAlign:"start",fontSize:"13px",width:"calc(100%)",whiteSpace:b?"":"nowrap",overflow:b?"":"hidden"},Object(R.a)(t,"display","block"),Object(R.a)(t,"textOverflow","ellipsis"),t),children:F(e)}),Object(y.jsx)("span",{style:(i={display:"block",textAlign:"start",fontSize:"13px",width:"calc(100%)",whiteSpace:b?"":"nowrap",overflow:b?"":"hidden"},Object(R.a)(i,"display","block"),Object(R.a)(i,"textOverflow","ellipsis"),i),children:(s="desert"==e.type?"Dessert":e.type,s.charAt(0).toUpperCase()+s.slice(1))}),Object(y.jsx)(d.a,{in:!b,children:Object(y.jsx)("span",{style:(a={display:"block",textAlign:"start",fontSize:"13px",width:"calc(100%)",whiteSpace:b?"":"nowrap",overflow:b?"":"hidden"},Object(R.a)(a,"display","block"),Object(R.a)(a,"textOverflow","ellipsis"),a),children:K(e)})})]})]})]}),Object(y.jsx)(d.a,{in:b,children:Object(y.jsxs)("div",{style:{display:b?"":"none"},children:[Object(y.jsxs)("div",{id:"wine-variety",style:{display:e.variety.length<3?"none":"flex",width:"100%",backgroundColor:"#ededed",padding:"10px",minHeight:"50px",justifyContent:"stretch",alignItems:"center"},children:[Object(y.jsx)("div",{style:{height:"100%",width:"20%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(y.jsx)("img",{style:{marginLeft:"auto",marginRight:"auto",display:"block",marginTop:"auto",marginBottom:"auto"},src:"/Roznavene-project-demo/icons/grapes.png",width:"22"})}),Object(y.jsx)("div",{style:{height:"100%",width:"80%"},children:e.variety.length>3?D(e.variety).map((function(t){return Object(y.jsx)("div",{style:{backgroundColor:"white",borderStyle:"solid",borderWidth:"1px",borderColor:"#d4d4d4",borderRadius:"1px",padding:"2px",paddingLeft:"5px",paddingRight:"5px",margin:"3px",height:"25px",display:"inline-block",fontSize:"13px",float:"left"},children:t},"".concat(e["PRODUCT NUMBER"],"_").concat(t,"_variety"))})):null})]}),Object(y.jsx)("div",{id:"wine-quals",style:{width:"70%",float:"left",padding:"15px"},children:Object.keys(H).map((function(t){return Object(y.jsxs)("div",{style:{width:"100%",height:"35px"},children:[Object(y.jsx)("div",{style:{height:"35px",width:"30%",float:"left",textAlign:"center",verticalAlign:"middle",lineHeight:"30px"},children:Object(y.jsx)("span",{style:{fontSize:"11px",padding:"4px",color:e[t]>1?"gray":""},children:e[t]<=1?Object(y.jsx)("b",{children:G[t].toUpperCase()}):G[t].toUpperCase()})}),Object(y.jsxs)("div",{style:{height:"35px",width:"40%",float:"left",position:"relative",display:"flex"},children:[Object(y.jsx)("div",{style:{alignSelf:"center",width:"100%",height:"3px",position:"absolute",backgroundColor:"#eaeaea",borderRadius:"2px"}}),Object(y.jsx)("div",{style:{alignSelf:"center",width:"7px",height:"7px",position:"absolute",marginLeft:"calc(".concat(25*e[t],"% - 2px)"),borderRadius:"25px",zIndex:0,backgroundColor:L}})]}),Object(y.jsx)("div",{style:{height:"35px",width:"30%",float:"left",textAlign:"center",verticalAlign:"middle",lineHeight:"30px"},children:Object(y.jsx)("span",{style:{fontSize:"11px",padding:"4px",color:e[t]<3?"gray":""},children:e[t]>=3?Object(y.jsx)("b",{children:H[t].toUpperCase()}):H[t].toUpperCase()})})]},"".concat(t,"_bar"))}))}),Object(y.jsx)("div",{id:"wine-alcohol",style:{display:"flex",alignItems:"center",justifyContent:"space-around",width:"30%",float:"left",marginBottom:"15px",marginTop:"15px",height:"".concat(140,"px")},children:Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{style:{fontSize:"13px",textAlign:"center",padding:"4px"},children:"ALCOHOL"}),Object(y.jsx)("div",{style:{display:"block",margin:"auto"},children:Object(y.jsxs)("span",{style:{fontSize:"14px"},children:[e.ALCOHOL,"%"]})})]})})]})})]},e["PRODUCT NUMBER"])};var V=function(e){var t=e.isMobile,i=e.screenWidth,s=Object(n.useState)(""),r=Object(o.a)(s,2),u=r[0],O=(r[1],Object(n.useState)("")),f=Object(o.a)(O,2),m=f[0],v=f[1],w=Object(n.useState)({}),S=Object(o.a)(w,2),k=S[0],I=S[1],T=Object(n.useState)(!1),R=Object(o.a)(T,2),A=R[0],B=R[1],N=Object(n.useState)([]),z=Object(o.a)(N,2),L=z[0],P=z[1],H=Object(n.useState)([]),G=Object(o.a)(H,2),U=G[0],E=G[1],F=Object(n.useState)(""),K=Object(o.a)(F,2),D=K[0],V=K[1],Z=Object(n.useState)("$$"),$=Object(o.a)(Z,2),_=$[0],J=$[1],Y=Object(n.useState)(!0),q=Object(o.a)(Y,2),X=q[0],Q=q[1],ee=Object(n.useState)([]),te=Object(o.a)(ee,2),ie=te[0],ne=te[1],ae=Object(n.useState)([]),se=Object(o.a)(ae,2),re=(se[0],se[1],Object(n.useState)([])),ce=Object(o.a)(re,2),oe=(ce[0],ce[1],Object(n.useState)([])),le=Object(o.a)(oe,2),de=le[0],he=le[1],pe=Object(n.useState)(!0),ue=Object(o.a)(pe,2),je=ue[0],xe=ue[1],be=Object(n.useState)(""),ge=Object(o.a)(be,2),Oe=ge[0],fe=ge[1],ye=a.a.createRef(),me=function(e,t,i){return{value:e,label:e.replace(/\b\w/g,(function(e){return e.toUpperCase()})),type:i,index:t}};Object(n.useEffect)((function(){Te("TAGS",(function(e){var t=e.split("\n").filter(Ie).map((function(e,t){return me(e,t,"meal")}));Te("INGS",(function(e){var i=e.split("\n").filter(Ie).map((function(e,t){return me(e,t,"ingredient")}));he(t.concat(i))}))}))}),[]);var ve=function(e){return{$:0,$$:1,$$$:2}[e]},Ce=function(e){var t=e.wines;e.recipe?I(e.recipe):I({title:ie.map((function(e){return e.label})).join(", ")}),console.log(t[ve(_)][0]["PRODUCT NUMBER"]),3==t.length?(P(t),E(t[ve(_)])):E(t);var i=t.flat().map((function(e){return we(e.link)}));Promise.all(i.map((function(e){return e?ke(e):null}))).then((function(){B(!1),Q(!1)})).catch((function(e){return console.log("Failed to load images",e)}))},we=function(e){var t=e.split("/")[5],i=e.split("/")[6];return"https://images.alko.fi/images/cs_srgb,f_auto,t_products/cdn/".concat(t,"/").concat(i,".jpg")};function Se(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);return!!e.match(t)}var ke=function(e){return new Promise((function(t,i){var n=new Image;n.src=e,n.onload=function(){return setTimeout((function(){t(e)}),2e3)},n.onerror=function(e){return i(e)}}))};function Ie(e,t,i){return i.indexOf(e)===t}function Te(e,t){fetch("/Roznavene-project-demo/data/".concat(e,".txt")).then((function(e){return e.text()})).then(t)}function Me(){return Object(y.jsx)("div",{className:"no-scrollbar",id:"wine-display",style:{width:"100%"},children:U?U.map((function(e,t){return Object(y.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"start",paddingBottom:t==U.length-1?"":"10px"},children:W(e)},"wine_display_".concat(t))})):Object(y.jsx)("span",{children:"No recommendations in this price range."})})}var Re=function(e){var t,i;if(B(!0),Se(e[0].value)){var n=e[0].value;ne([{value:n,label:n}]),v(n),t={link:n},i="link2wine"}else{var a=e.map((function(e){return e.value}));v(a),t={tags:a},i="tags2wine"}var s={method:"POST",url:"https://pocketsomm.dev/api/v1/".concat(i),headers:{"Content-Type":"application/json"},data:t};j.a.request(s).then((function(e){console.log(e.data.wines),V(!1),Ce(e.data)})).catch((function(e){V("Request failed with status code 404"===e.message?"":e.message),e.response?(console.log(e.response.data.detail),Ce(e.response.data.detail)):B(!1)}))};return Object(y.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[Object(y.jsx)("div",{id:"body-header",style:{minHeight:"".concat(D?"88":"68","px")},children:Object(y.jsxs)("div",{id:"body-query",style:{minHeight:"68px",width:t?"95%":"80%",margin:"auto",textAlign:"start"},children:[Object(y.jsx)(l.a.Label,{style:{textAlign:"start",fontSize:"14px",marginBottom:"0px",paddingLeft:"6px"},children:"WHAT ARE YOU EATING?"}),Object(y.jsx)(d.a,{in:!X,children:Object(y.jsxs)("div",{style:{display:X?"none":"flex",height:"43px",alignItems:"center"},children:[Object(y.jsx)(l.a.Label,{style:{textAlign:"start",fontSize:"16px",width:"calc(100% - 25px)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",float:"left"},children:Object(y.jsx)("b",{children:k.title?k.title.toUpperCase():""})}),Object(y.jsx)(x.a,{className:"clickable nodrag",style:{marginLeft:"5px"},size:20,color:"gray",onClick:function(e){Q(!0)}})]})}),Object(y.jsx)(d.a,{in:X,children:Object(y.jsx)("div",{style:{display:X?"":"none",padding:"5px",paddingTop:"0px",zIndex:2,position:"relative"},children:Object(y.jsx)(g.a,{formatCreateLabel:function(e){return Se(e)?"Use recipe link":'Create "'.concat(Oe,'"')},value:ie,onChange:function(e,t){if(!e||!e.length)return ne([]),void xe(!0);var i;!Array.isArray(e)&&Se(e.value)||Se(e[e.length-1].value)?(i=e,ne(!Array.isArray(i)&&i||i[i.length-1]),xe(!1),Re(i)):function(e){ne(e),xe(!0)}(e)},onInputChange:function(e){fe(e);var t=de.sort((function(t,i){var n=t.value.indexOf(e.toLowerCase()),a=i.value.indexOf(e.toLowerCase());return n==a?t.index-i.index:n-a}));he(t)},captureMenuScroll:!1,classNamePrefix:"clickable custom-select",filterOption:Object(b.c)({ignoreAccents:!1}),openMenuOnClick:!1,isMulti:je,placeholder:"search meal or paste recipe link",styles:{input:function(e){return Object(c.a)(Object(c.a)({},e),{},{flex:"1 1 auto","> div":{width:"100% !important"},input:{width:ie&&ie.length?"":"".concat(t?.95*(i-4)-10-36-16:313.39,"px !important"),textAlign:"left !important"}})}},components:{Option:C,MenuList:M},options:de,isClearable:!0})})}),Se(u)&&u?Object(y.jsx)("div",{style:{width:"80%",margin:"auto"},children:Object(y.jsx)("span",{style:{color:"darkred",float:"left",fontSize:"12px",margin:"2px"},children:"* corked link"})}):null,Object(y.jsx)("div",{id:"error-message",style:{height:"24px",display:D&&!A?"":"none"},children:Object(y.jsx)("span",{style:{fontSize:"13px",color:"red"},children:D})})]})}),Object(y.jsx)(d.a,{id:"body-winelist-$-levels",in:!A&&!!m&&!D,children:Object(y.jsx)("div",{style:{display:A||!m||D?"none":"flex",height:"30px",paddingBottom:"10px",alignItems:"start",justifyContent:"center"},children:Object(y.jsx)(h.a,{"aria-label":"Basic example",children:["$","$$","$$$"].map((function(e){return Object(y.jsx)(p.a,{onClick:function(t){!function(e){J(e),E(L[ve(e)])}(e)},size:"sm",variant:"outline-danger",active:_==e,style:{padding:"0px",width:"45px",height:"20px",fontSize:"14px",lineHeight:"20px"},children:e},e)}))})})}),Object(y.jsx)("div",{id:"body-winelist",className:"animated winelist ".concat(t?"":"hiddenScroll"),style:{width:"100%",selfAlign:"start",overflowY:"auto",overflowX:"hidden",maxHeight:U.length&&!A?"".concat(438,"px"):"0px"},children:["$","$$","$$$"].map((function(e){return Object(y.jsx)(d.a,{in:!A&&_===e,children:Object(y.jsx)("div",{style:{display:A||_!==e?"none":""},children:Object(y.jsx)(Me,{})})},"".concat(e,"_display"))}))}),Object(y.jsx)("div",{id:"body-footer",style:{width:"100%",height:"60px",display:"flex",justifyContent:"center",alignItems:"end",backgroundColor:"white",padding:"5px",paddingTop:"10px"},children:Object(y.jsx)(p.a,{type:"submit",disabled:!(ie.length||Oe&&Se(Oe)),onClick:function(e){Re(ie)},variant:"danger",ref:ye,style:{width:"95%",height:"45px",zIndex:0},children:Object(y.jsx)("span",{children:A?Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"rotate-center",style:{display:"inline-flex",marginRight:"8px"},children:"\ud83c\udf77"}),Object(y.jsx)("span",{children:"PAIRING..."})]}):"WINE ME"})})})]})},Z=i(160),$=i(92),_=i(11),J=i(69),Y=i(60),q=(i(146),i(162)),X=i(161),Q=i(164),ee=i(163),te=i(156),ie=i(155),ne=i(78);function ae(e){var t=a.a.useState(!1),i=Object(o.a)(t,2),n=i[0],s=i[1];return Object(y.jsxs)("div",{className:"tag",children:[Object(y.jsx)("span",{style:{textDecoration:n?"line-through":"",color:n?"darkred":""},children:e.content}),e.declinable?Object(y.jsx)(ne.a,{className:"clickable",onClick:function(e){return s(!n)}}):null]})}var se=function(e){var t=e.loading,i=e.component,n=e.className,a=e.style,s=void 0===a?{}:a;return Object(y.jsxs)("div",{className:"Loadable",children:[Object(y.jsx)("div",{style:{display:t?"none":""},children:i}),Object(y.jsx)("div",{className:n,style:{display:t?"flex":"none",justifyContent:"center"},children:Object(y.jsx)(ie.a,{style:Object(c.a)(Object(c.a)({},s),{},{display:t?"":"none"}),as:"span",animation:"border",role:"status","aria-hidden":"true"})})]})};se.defaultProps={style:{marginTop:"0px",width:"10px",height:"10px"}};var re=se,ce=i(157),oe=i(158),le={steps:"",ingredients:[],regions:[],labels:[],pairingText:""},de=function(e){Object(k.a)(i,e);var t=Object(I.a)(i);function i(e){var n;return Object(w.a)(this,i),(n=t.call(this,e)).handleClose=function(){return n.setState({show:!1})},n.handleShow=function(){return n.setState({show:!0})},n.handleCloseHistory=function(){return n.setState({showHistory:!1})},n.handleShowHistory=function(){return n.setState({showHistory:!0})},n.goToRecipe=function(e){n.setState({recipeIndex:e,textBoxContent:n.state.recipeHistory[e].pairingText})},n.handleNextClick=function(){if(!n.state.loading){var e=n.state.recipeIndex;e<n.state.recipeHistory.length-1?n.goToRecipe(e+1):n.nextRecipe()}},n.handlePrevClick=function(){if(!n.state.loading){var e=n.state.recipeIndex;e>0&&n.goToRecipe(e-1)}},n.handleCreateToast=function(e){n.setState({toast:e})},n.currentRecipe=function(){return n.state.recipeHistory[n.state.recipeIndex]?n.state.recipeHistory[n.state.recipeIndex]:le},n.handleTextChange=function(e){n.setState({textBoxContent:e})},n.listOfUrls=function(e){return e.split(/\r?\n/).filter((function(e){return n.isUrl(e)}))},n.pairingChanged=function(){return JSON.stringify(n.listOfUrls(n.state.textBoxContent))!==JSON.stringify(n.listOfUrls(n.currentRecipe().pairingText))},n.submitButtonText=function(){return n.currentRecipe().pairingText?n.pairingChanged()?"Update Pairings":"Submitted":"Submit Pairings (".concat(n.listOfUrls(n.state.textBoxContent).length,")")},n.state={loading:!0,updating:!1,recipeHistory:[],recipeIndex:-1,show:!1,toastShow:!1,showHistory:!1,toastContent:"",textBoxContent:""},n.pairingChanged=n.pairingChanged.bind(Object(Y.a)(n)),n}return Object(S.a)(i,[{key:"componentDidMount",value:function(){this.nextRecipe()}},{key:"isUrl",value:function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);return!!e.match(t)}},{key:"submitRecipe",value:function(){var e=this,t=this.currentRecipe().title,i=this.state.recipeHistory;i[this.state.recipeIndex].paired=this.listOfUrls(this.state.textBoxContent).length,i[this.state.recipeIndex].pairingText=this.state.textBoxContent;this.state.recipeIndex,this.state.recipeHistory.length;var n={method:"POST",url:"https://pocketsomm.dev/api/v1/recipePairing",headers:{"Content-Type":"application/json"},data:{wines:this.listOfUrls(this.state.textBoxContent).map((function(e){return{link:e,info:""}})),recipeId:this.currentRecipe().id,recipeTitle:this.currentRecipe().title}};this.setState({updating:!0}),j.a.request(n).then((function(n){e.setState({toastShow:!0,toastContent:"Pairing of ".concat(t," successful."),recipeHistory:i,updating:!1})})).catch((function(e){console.error(e)}))}},{key:"nextRecipe",value:function(){var e=this;this.setState({loading:!0}),j.a.get("https://pocketsomm.dev/api/v1/randomRecipe").then((function(t){e.setState((function(e){var i;return{loading:!1,recipeHistory:[].concat(Object(J.a)(e.recipeHistory),[(i={id:t.data.Recipe_id,title:t.data.Recipe_title,labels:[],regions:Object.entries(t.data.Cuisine).sort((function(e,t){var i=Object(o.a)(e,2)[1];return Object(o.a)(t,2)[1]-i})).slice(0,3).map((function(e){return"".concat(e[0]," ").concat(Math.round(100*e[1]),"%")}))},Object(R.a)(i,"labels",t.data.Category?t.data.Category.map((function(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))})):[]),Object(R.a)(i,"ingredients",t.data.Ingredients.slice(2,-2).split("', '")),Object(R.a)(i,"steps",t.data.Steps),Object(R.a)(i,"pairingText",""),Object(R.a)(i,"paired",0),i)]),recipeIndex:e.recipeIndex+1,textBoxContent:""}}))}))}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"nodrag",style:{display:"flex",height:"calc(100vh - 80px)",width:"100%",backgroundColor:"#f0f0f0"},children:[Object(y.jsx)("div",{style:{width:"100%",height:"100%",position:"relative"},children:Object(y.jsx)(re,{style:{marginTop:"300px"},loading:this.state.loading,component:Object(y.jsxs)("div",{id:"page-body",children:[Object(y.jsxs)(q.a,{scrollable:!0,centered:!0,size:"lg",show:this.state.show,onHide:this.handleClose,children:[Object(y.jsx)(q.a.Header,{children:Object(y.jsx)(q.a.Title,{children:this.currentRecipe().title})}),Object(y.jsx)(q.a.Body,{children:Object(y.jsx)(X.a,{variant:"flush",children:this.currentRecipe().steps.split(/\| [0-9]+\./).splice(1).map((function(e,t){return Object(y.jsx)(X.a.Item,{children:Object(y.jsxs)("span",{style:{display:"block",marginBottom:"10px"},children:[Object(y.jsxs)("b",{children:[t+1,"."]})," ",e]})})}))})}),Object(y.jsx)(q.a.Footer,{children:Object(y.jsx)(p.a,{variant:"danger",onClick:this.handleClose,children:"Close"})})]}),Object(y.jsxs)(Q.a,{onClose:function(){return e.setState({toastShow:!1})},delay:8e3,animation:!0,autohide:!0,show:this.state.toastShow,style:{position:"absolute",right:"50px",top:"50px"},children:[Object(y.jsx)(Q.a.Header,{children:Object(y.jsx)("strong",{className:"me-auto",children:"PocketSomm"})}),Object(y.jsx)(Q.a.Body,{children:this.state.toastContent})]}),Object(y.jsxs)(ee.a,{placement:"end",show:this.state.showHistory,onHide:this.handleCloseHistory,children:[Object(y.jsx)(ee.a.Header,{closeButton:!0,children:Object(y.jsx)(ee.a.Title,{children:"Session History"})}),Object(y.jsx)(ee.a.Body,{children:Object(y.jsx)(X.a,{variant:"flush",children:this.state.recipeHistory.map((function(t,i){return Object(y.jsxs)(X.a.Item,{onClick:function(t){return e.goToRecipe(i)},action:!0,children:[e.state.recipeIndex==i?Object(y.jsxs)("strong",{children:[">",t.title]}):Object(y.jsx)("span",{children:t.title}),t.paired?Object(y.jsxs)(te.a,{style:{float:"right"},bg:"success",children:[t.paired," Pairings"]}):Object(y.jsx)(te.a,{style:{float:"right"},bg:"secondary",children:"No Pairings"})]})}))})})]}),Object(y.jsxs)("div",{id:"recipe-window",style:{position:"relative",width:"100%",height:"calc((100vh - 80px))",paddingLeft:"60px",paddingRight:"60px"},children:[Object(y.jsx)(p.a,{variant:"link",onClick:this.handleShowHistory,style:{position:"absolute",top:"10px",right:"10px"},children:"Session History"}),Object(y.jsxs)("div",{style:{width:"100%",height:"180px",paddingTop:"10px"},children:[Object(y.jsx)("h4",{children:this.currentRecipe().title}),Object(y.jsx)("button",{class:"btn btn-link",onClick:this.handleShow,children:"View steps"}),Object(y.jsxs)("div",{style:{width:"100%",textAlign:"start",height:"32px",display:"flex",alignItems:"center"},children:["Predicted Regions: ",this.currentRecipe().regions.length?this.currentRecipe().regions.map((function(e){return Object(y.jsx)(ae,{content:"".concat(e),declinable:!0})})):Object(y.jsx)("span",{style:{marginLeft:"30px",fontSize:"14px",color:"darkgray"},children:"None"})]}),Object(y.jsxs)("div",{style:{width:"100%",textAlign:"start",height:"32px",display:"flex",alignItems:"center"},children:["Predicted Categories: ",this.currentRecipe().labels.length?this.currentRecipe().labels.map((function(e){return Object(y.jsx)(ae,{content:"".concat(e," "),declinable:!0})})):Object(y.jsx)("span",{style:{marginLeft:"30px",fontSize:"14px",color:"darkgray"},children:"None"})]})]}),Object(y.jsxs)(A.a,{style:{backgroundColor:"#f5f5f5",padding:"30px",width:"500px",textAlign:"start",float:"left",height:"calc(100% - 290px)"},children:[Object(y.jsx)(A.a.Title,{children:"Ingredient List"}),Object(y.jsx)(A.a.Body,{style:{overflowY:"auto"},children:this.currentRecipe().ingredients.map((function(e){return Object(y.jsxs)("span",{style:{display:"block"},children:["\u2022 ",e]})}))})]}),Object(y.jsx)("div",{style:{width:"calc(100% - 500px)",height:"calc(100% - 290px)",float:"left",position:"relative"},children:Object(y.jsxs)("div",{style:{width:"650px",position:"absolute",bottom:"0px",right:"0px"},children:[Object(y.jsxs)("button",{style:{float:"right",marginBottom:"10px"},disabled:!this.state.textBoxContent||!this.isUrl(this.state.textBoxContent.split("\n")[0])||!this.pairingChanged(),type:"button",class:"btn btn-danger",onClick:function(t){return e.submitRecipe()},children:[this.state.updating?Object(y.jsx)(ie.a,{animation:"border",size:"sm",style:{marginRight:"5px"}}):null,this.submitButtonText()]}),Object(y.jsx)(l.a.Control,{onChange:function(t){return e.handleTextChange(t.target.value)},value:this.state.textBoxContent,as:"textarea",placeholder:"Paste wine links here (one per row)",style:{float:"right",height:"190px",width:"650px"}})]})})]})]})})}),Object(y.jsxs)("div",{style:{position:"absolute",width:"100%",bottom:"25px",fontSize:"30px",display:"flex",justifyContent:"center"},children:[Object(y.jsx)(ce.a,{style:{opacity:this.state.recipeIndex&&!this.state.loading?"":"20%"},onClick:this.handlePrevClick,className:this.state.recipeIndex&&!this.state.loading?"clickable":"",size:50}),Object(y.jsx)("div",{style:{width:"100px"},children:Object(y.jsxs)("span",{children:[this.state.recipeIndex+1,"/",this.state.recipeHistory.length]})}),Object(y.jsx)(oe.a,{style:{opacity:this.state.loading?"20%":""},onClick:this.handleNextClick,className:this.state.loading?"":"clickable",size:50})]})]})}}]),i}(a.a.Component);var he=function(){var e=Object(n.useState)(window.innerWidth),t=Object(o.a)(e,2),i=t[0],a=t[1];Object(n.useEffect)((function(){return console.log(window.location),window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}}),[]);var s=i<768,r=i>=768&&i<1024,l=!s&&!r,d=.01*window.innerHeight;function h(){a(window.innerWidth)}document.documentElement.style.setProperty("--vh","".concat(d,"px"));var p={width:"100%",height:"calc(var(--vh, 1vh) * 100 - 100px)",borderWidth:"0px",padding:"2px"},u={width:"80%",height:"calc(var(--vh, 1vh) * 100 - 120px)",borderWidth:"0px",padding:"10px"},j={marginTop:"100px",width:"500px",padding:"10px",zIndex:3,position:"absolute",left:"0px",right:"0px",marginLeft:"55%"},x={zIndex:4,position:"absolute",width:"400px",height:"300px",top:"300px",left:"300px"},b=function(){return s?p:r?u:j};return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("div",{id:"body-logo",style:{height:"80px",backgroundColor:"#80183b",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(e){window.location.replace("/Roznavene-project-demo")},children:Object(y.jsx)("img",{style:{objectFit:"cover"},href:"/Roznavene-project-demo",className:"clickable nodrag",src:"/Roznavene-project-demo/PocketSomm.LOGO.svg",width:"200px",height:"80px"})}),Object(y.jsx)($.a,{basename:"/Roznavene-project-demo",children:Object(y.jsxs)(_.c,{children:[Object(y.jsx)(_.a,{path:"/",element:l?Object(y.jsxs)("div",{style:{height:"calc(100vh - 80px)",width:"100%"},children:[Object(y.jsxs)("div",{style:{position:"relative"},children:[Object(y.jsx)(A.a,{className:"mainBody",style:Object(c.a)({marginTop:s?"20px":"40px"},b()),children:Object(y.jsx)(V,{isMobile:s||r,screenWidth:i})}),Object(y.jsx)("img",{width:200,src:"./Roznavene-project-demo/try_our_demo.png",style:{position:"absolute",zIndex:5,marginLeft:"580px",marginTop:"30px"}})]}),Object(y.jsx)("div",{style:{width:"100%",height:"calc(100vh - 80px)",position:"absolute",zIndex:2,background:"#3b3e4f",opacity:"0.85"}}),Object(y.jsxs)(Z.a,{indicatorLabels:[1,2,3],style:{width:"100%",height:"calc(100vh - 80px)"},children:[Object(y.jsxs)(Z.a.Item,{children:[Object(y.jsx)("img",{style:{objectFit:"cover",width:"100%",height:"calc(100vh - 80px)"},src:"./Roznavene-project-demo/homecook.jpg",alt:"First slide"}),Object(y.jsxs)(Z.a.Caption,{style:x,children:[Object(y.jsx)("h3",{children:"Home Cooking"}),Object(y.jsx)("p",{children:"Nulla vitae elit libero, a pharetra augue mollis interdum."})]})]}),Object(y.jsxs)(Z.a.Item,{children:[Object(y.jsx)("img",{style:{objectFit:"cover",width:"100%",height:"calc(100vh - 80px)"},src:"./Roznavene-project-demo/restaurant.jpg",alt:"Second slide"}),Object(y.jsxs)(Z.a.Caption,{style:x,children:[Object(y.jsx)("h3",{children:"Restaurants"}),Object(y.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]}),Object(y.jsxs)(Z.a.Item,{children:[Object(y.jsx)("img",{style:{objectFit:"cover",width:"100%",height:"calc(100vh - 80px)"},src:"./Roznavene-project-demo/delivery.jpg",alt:"Second slide"}),Object(y.jsxs)(Z.a.Caption,{style:x,children:[Object(y.jsx)("h3",{children:"Food Delivery"}),Object(y.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]})]})]}):Object(y.jsx)(A.a,{className:"mainBody",style:Object(c.a)({marginTop:s?"20px":"40px"},b()),children:Object(y.jsx)(V,{isMobile:s||r,screenWidth:i})})}),Object(y.jsx)(_.a,{path:"/pairing",element:Object(y.jsx)(de,{})})]})})]})},pe=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,166)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(he,{})}),document.getElementById("root")),pe()}},[[148,1,2]]]);
//# sourceMappingURL=main.a9d36045.chunk.js.map